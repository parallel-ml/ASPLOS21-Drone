

<!-- Path to wiki directories, without backslash -->

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>PPM Encoder AT328P 8 Channel Standalone Encoder &mdash; Copter  documentation</title>
  

  <!-- favicon -->
  
  
    <link rel="shortcut icon" href="../_static/favicon_copter.ico"/>
  
  <!-- favicon end -->
  
  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../_static/common_theme_override.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="Copter  documentation" href="../index.html"/>
        <link rel="up" title="PPM Encoder" href="common-ppm-encoder.html"/>
        <link rel="next" title="Precision Landing and Loiter with IR-LOCK" href="precision-landing-with-irlock.html"/>
        <link rel="prev" title="PPM Encoder" href="common-ppm-encoder.html"/>  
  <script type="text/javascript">
  window.liveSettings = {
    api_key: "53747d3f35bf4cec9372629094cd9fe2",
    picker: "bottom-right",
    detectlang: true,
    autocollect: true,
    dynamic: false
  };
  </script>


  
  <script src="../_static/js/modernizr.min.js"></script>

</head>



<body class="wy-body-for-nav" role="document">

        
    <div id='cssmenu'>
        <ul>
           <li><a href='/ardupilot/index.html'>Home</a>
              <ul>
                 <li><a href='/copter/index.html'>Copter</a></li>
                 <li><a href='/plane/index.html'>Plane</a></li>
                 <li><a href='/rover/index.html'>Rover</a></li>
                 <li><a href='http://ardusub.com/'>Sub</a></li>
                 <li><a href='/antennatracker/index.html'>AntennaTracker</a></li>
                 <li><a href='/planner/index.html'>Mission Planner</a></li>
                 <li><a href='/planner2/index.html'>APM Planner 2</a></li>
                 <li><a href='/mavproxy/index.html'>MAVProxy</a></li>
                 <li><a href='/dev/docs/companion-computers.html'>Companion Computers</a></li>
                 <li><a href='/dev/index.html'>Developer</a></li>
              </ul>
           </li>
           
          
           
           <li><a href='https://firmware.ardupilot.org/'>Downloads</a>
              <ul>
                <li><a href='https://firmware.ardupilot.org/Tools/MissionPlanner/'>Mission Planner</a></li>
                <li><a href='https://firmware.ardupilot.org/Tools/APMPlanner/'>APM Planner 2</a></li>
                   <li><a title="Advanced User Tools" href="common-downloads_advanced_user_tools.html">Advanced User Tools</a></li>
                   <li><a title="Developer Tools" href="common-downloads_developer_tools.html">Developer Tools</a></li>
                   <li><a title="Firmware" href="common-downloads_firmware.html">Firmware</a></li>
                </ul>
           </li>
           
           <li><a href='https://discuss.ardupilot.org' />Community</a>
              <ul>
                 <li><a href='https://discuss.ardupilot.org/'>Support Forums</a></li>
                 <li><a href='https://www.facebook.com/groups/ArduPilot.org'>Facebook</a></li>
                 <li><a href='https://ardupilot.org/discord'>Developer Chat (Discord)</a></li>
                 <li><a href='https://ardupilot.org/discord'>Developer Voice (Discord)</a></li>
				 <li><a href='https://ardupilot.org/dev/docs/common-contact-us.html'>Contact us</a></li>
				 <li><a href='https://ardupilot.org/dev/index.html#getting-involved'>Getting involved</a></li>
                   <li><a title="Commercial Support" href="common-commercial-support.html">Commercial Support</a></li>
                   <li><a title="Dev Team" href="common-team.html">Development Team</a></li>
                   <li><a title="Training Centers" href="common-training-centers.html">UAS Training Centers</a></li>
              </ul>
           </li>
             <li><a title="Stores" href="common-stores.html">Stores</a></li>


             <li><a title="SWAG Shop" href="https://shop.ardupilot.org">SWAG</a></li>

           
           
                        <li><a title="About" href="../index.html">About</a>
               <ul>
                   <li><a title="Project News" href="project-news.html">News</a></li>
                   <li><a title="History of ArduPilot" href="common-history-of-ardupilot.html">History</a></li>
                   <li><a href='https://ardupilot.org/dev/docs/license-gplv3.html'>License</a></li>
                   <li><a href='https://ardupilot.org/dev/docs/trademark.html'>Trademark</a></li>
                   <li><a title="Acknowledgments" href="common-acknowledgments.html">Acknowledgments</a></li>
                   <li><a title="Wiki Editing Guide" href="common-wiki_editing_guide.html">Wiki Editing Guide</a></li>
               </ul>
             </li>
        </ul>
        
<style>
#jdlogo {
  top: 10px;
  right: 20px;
  position: absolute;
  color: #dddddd;
}
#jdlogo a:visited,
#jdlogo a:link {
  color: #9B59B6;
}
#jdlogo a:hover,
#jdlogo a:active {
  color: #CACACA;
}
</style>

</div>

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        

        
          <a href="../index.html" class="icon icon-home"> Copter
        

        
          
          <img src="../_static/ardupilot_logo.png" class="logo" />
        
        </a>

        
          
          
        

        
          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        
        
        
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introducing Copter</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-autopilots.html">AutoPilot Hardware Options</a></li>
<li class="toctree-l1"><a class="reference internal" href="initial-setup.html">First Time Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="flying-arducopter.html">First Flight</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-when-problems-arise.html">If A Problem Arises</a></li>
<li class="toctree-l1"><a class="reference internal" href="copter-flight-features.html">Flight Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-advanced-configuration.html">Advanced Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-mission-planning.html">Mission Planning</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-logs.html">Logs</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="common-optional-hardware.html">Peripheral Hardware</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="common-ads-b-receiver.html">ADS-B Receiver</a></li>
<li class="toctree-l2"><a class="reference internal" href="common-powermodule-landingpage.html">Battery Monitors (aka Power Modules)</a></li>
<li class="toctree-l2"><a class="reference internal" href="common-baro-external.html">Barometer (external)</a></li>
<li class="toctree-l2"><a class="reference internal" href="common-buzzer.html">Buzzer</a></li>
<li class="toctree-l2"><a class="reference internal" href="common-cameras-and-gimbals.html">Cameras &amp; Gimbals</a></li>
<li class="toctree-l2"><a class="reference internal" href="common-companion-computers.html">Companion Computers</a></li>
<li class="toctree-l2"><a class="reference internal" href="sprayer.html">Crop Sprayer</a></li>
<li class="toctree-l2"><a class="reference internal" href="common-display-onboard.html">Display (Onboard)</a></li>
<li class="toctree-l2"><a class="reference internal" href="common-escs-and-motors.html">ESCs and Motors</a></li>
<li class="toctree-l2"><a class="reference internal" href="common-fpv-first-person-view.html">First Person View Video</a></li>
<li class="toctree-l2"><a class="reference internal" href="common-fuel-sensors.html">Fuel Flow and Level Sensors</a></li>
<li class="toctree-l2"><a class="reference internal" href="common-positioning-landing-page.html">GPS/Compass</a></li>
<li class="toctree-l2"><a class="reference internal" href="common-gripper-landingpage.html">Grippers</a></li>
<li class="toctree-l2"><a class="reference internal" href="common-joystick.html">Joystick or Gamepad</a></li>
<li class="toctree-l2"><a class="reference internal" href="common-landing-gear.html">Landing Gear/ Retractable Camera Mount</a></li>
<li class="toctree-l2"><a class="reference internal" href="common-external-leds.html">LEDs (external)</a></li>
<li class="toctree-l2"><a class="reference internal" href="common-multiple-rx.html">Multiple Radio Control Receivers</a></li>
<li class="toctree-l2"><a class="reference internal" href="common-non-gps-navigation-landing-page.html">    Non-GPS navigation</a></li>
<li class="toctree-l2"><a class="reference internal" href="common-osd-boards-on-screen-display.html">On-Screen Display (OSD)</a></li>
<li class="toctree-l2"><a class="reference internal" href="common-optical-flow-sensors-landingpage.html">Optical Flow Sensor</a></li>
<li class="toctree-l2"><a class="reference internal" href="parachute.html">Parachute</a></li>
<li class="toctree-l2"><a class="reference internal" href="common-power-tether.html">Power Tether</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="common-ppm-encoder.html">PPM Encoder</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="common-ppm-encoder.html#failsafe-output-values">Failsafe output values:</a></li>
<li class="toctree-l3"><a class="reference internal" href="common-ppm-encoder.html#setup-manual">Setup Manual</a></li>
<li class="toctree-l3"><a class="reference internal" href="common-ppm-encoder.html#re-programming-the-atmega328p-ppm-encoder">Re-Programming the Atmega328p PPM encoder</a></li>
<li class="toctree-l3"><a class="reference internal" href="common-ppm-encoder.html#fuse-setting-for-internal-mcu">Fuse setting for internal MCU</a></li>
<li class="toctree-l3"><a class="reference internal" href="common-ppm-encoder.html#re-programming-instructions-for-windows">Re-Programming instructions for Windows</a></li>
<li class="toctree-l3"><a class="reference internal" href="common-ppm-encoder.html#re-programming-instructions-for-mac-os-x">Re-Programming instructions for Mac OS X</a></li>
<li class="toctree-l3"><a class="reference internal" href="common-ppm-encoder.html#re-programming-instructions-for-linux">Re-Programming instructions for Linux</a></li>
<li class="toctree-l3"><a class="reference internal" href="common-ppm-encoder.html#re-compiling-options">Re-Compiling Options</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="common-ppm-encoder.html#related-information">Related information</a><ul class="current">
<li class="toctree-l4 current"><a class="current reference internal" href="#">PPM Encoder Programming Guide</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="precision-landing-with-irlock.html">Precision Landing and Loiter (IRLock)</a></li>
<li class="toctree-l2"><a class="reference internal" href="common-rc-systems.html">Radio Control Systems</a></li>
<li class="toctree-l2"><a class="reference internal" href="common-rangefinder-landingpage.html">Rangefinders (Sonar, Lidar, Depth Cameras)</a></li>
<li class="toctree-l2"><a class="reference internal" href="common-rssi-received-signal-strength-indication.html">Received Signal Strength Indication (RSSI)</a></li>
<li class="toctree-l2"><a class="reference internal" href="common-relay.html">Relay Switch</a></li>
<li class="toctree-l2"><a class="reference internal" href="common-rpm.html">RPM Sensor</a></li>
<li class="toctree-l2"><a class="reference internal" href="common-safety-switch-pixhawk.html">Safety Switch</a></li>
<li class="toctree-l2"><a class="reference internal" href="common-servo-landingpage.html">Servos</a></li>
<li class="toctree-l2"><a class="reference internal" href="common-telemetry-landingpage.html">Telemetry Radio</a></li>
<li class="toctree-l2"><a class="reference internal" href="common-uavcan-adapter-node.html">UAVCAN Adapter Node</a></li>
<li class="toctree-l2"><a class="reference internal" href="common-uavcan-peripherals.html">UAVCAN Peripherals</a></li>
<li class="toctree-l2"><a class="reference internal" href="common-video-landingpage.html">Video (High Defintion)</a></li>
<li class="toctree-l2"><a class="reference internal" href="common-daiwa-winch.html">Winch</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="traditional-helicopters.html">Traditional Helicopters</a></li>
<li class="toctree-l1"><a class="reference internal" href="tricopter.html">Tricopter</a></li>
<li class="toctree-l1"><a class="reference internal" href="singlecopter-and-coaxcopter.html">SingleCopter and CoaxCopter</a></li>
<li class="toctree-l1"><a class="reference internal" href="heliquads.html">HeliQuads</a></li>
<li class="toctree-l1"><a class="reference internal" href="skyrocket.html">SkyRocket</a></li>
<li class="toctree-l1"><a class="reference internal" href="solo_arducopter_upgrade.html">Solo</a></li>
<li class="toctree-l1"><a class="reference internal" href="reference-frames.html">Reference Frames</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-use-cases-and-applications.html">Use-Cases and Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-antenna-tracking.html">Antenna Tracking</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-simulation.html">Simulation</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-master-features.html">Upcoming Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-user-alerts.html">User Alerts</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-appendix.html">Appendix</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-table-of-contents.html">Full Table of Contents</a></li>
</ul>

          
        
        
        <!-- add paypal and dronecode logos -->
                <div style="margin: auto; padding-left:20px; padding-right:20px; width=100%">

        <hr />
        <form style="margin:auto;" action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
        <input type="hidden" name="cmd" value="_s-xclick" />
        <input type="hidden" name="hosted_button_id" value="BBF28AFAD58B2" />
        <input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donate_LG.gif" border="0" name="submit" title="PayPal - The safer, easier way to pay online!" alt="Donate" />
        </form>
        <br>
        <a href="common-donation.html">Individual</a>
        <a href="common-partners.html">Partners</a>
        <a href="https://shop.ardupilot.org">SWAG Shop</a>

        <hr />
        </div>
        <!-- endadd paypal and dronecode logos -->
              
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">Copter</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



 
 
 
 
 
  
   
 

<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
          <li><a href="common-optional-hardware.html">Peripheral Hardware</a> &raquo;</li>
      
          <li><a href="common-ppm-encoder.html">PPM Encoder</a> &raquo;</li>
      
    <li>PPM Encoder AT328P 8 Channel Standalone Encoder</li>
      <li class="wy-breadcrumbs-aside">
                
          
            <a href="https://github.com/ArduPilot/ardupilot_wiki/blob/master/common/source/docs/common-ppm-encoder-8-channel-standalone-encoder.rst" class="fa fa-github"> Edit on GitHub</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="ppm-encoder-at328p-8-channel-standalone-encoder">
<span id="common-ppm-encoder-8-channel-standalone-encoder"></span><h1>PPM Encoder AT328P 8 Channel Standalone Encoder<a class="headerlink" href="#ppm-encoder-at328p-8-channel-standalone-encoder" title="Permalink to this headline">¶</a></h1>
<p>This article describes the standalone PPM Encoder that can be purchased
from <a class="reference external" href="http://store.jdrones.com/pixhawk_px4_paparazzi_ppm_encoder_v2_p/eleppmenc20.htm">jDrones</a>.
It is provided for use in the (very unlikely) event that the encoder needs
to be reprogrammed.</p>
<div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>The ATMEGA 328P 8 channel STANDALONE PPM encoder allows to encode up to
8 PWM (pulse width modulated) signals into one PPM (pulse position
modulation) signal. This allows you to use any R/C receiver and a
microcontroller that supports PPM (e.g. the
<a class="reference external" href="http://pixhawk.org/modules/px4fmu">PX4FMU</a>). The design is
based on the Atmega328P using and an external 16Mhz resonator.   The 3DR
PPM Encoder (v2) now uses the ArduPPM firmware, replacing the previously
used Paparazzi PPM Encoder firmware. The new ArduPPM firmware has been
designed from scratch to enhance performance and robustness, and to
better accommodate our product needs now and in the future. Firmware for
Plane (and Rover) can be <a class="reference external" href="https://download.ardupilot.org/downloads/wiki/advanced_user_tools/ArduPPM_v2.3.16_ATMega328p_for_ArduPlane.hex_.zip">downloaded here</a>.
Firmware for Copter can be <a class="reference external" href="https://download.ardupilot.org/downloads/wiki/advanced_user_tools/ArduPPM_v2.3.16_ATMega328p_for_ArduCopter.hex_.zip">downloaded here</a>.
(The source code, while not necessary if using the compiled code, <a class="reference external" href="https://github.com/ArduPilot/ardupilot/blob/master/Tools/ArduPPM/Libraries/PPM_Encoder.h">can be found here</a>.)</p>
</div>
<div class="section" id="setup-manual">
<h2>Setup Manual<a class="headerlink" href="#setup-manual" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference external" href="https://download.ardupilot.org/downloads/wiki/advanced_user_tools/PPM-Encoder-3DR-Manual-v2.3.16.pdf">Manual</a>
shows how to solder and wire the PPM Encoder and explains the different
failsafe modes.</p>
</div>
<div class="section" id="version-3">
<h2>Version 3<a class="headerlink" href="#version-3" title="Permalink to this headline">¶</a></h2>
<p>The third version of the PPM Encoder features a smaller form factor and
DF13 connector ports. To set up, connect the three-wire cable to the
autopilot and the 10-wire cable to a PWM receiver. For more
instructions, <a class="reference external" href="https://download.ardupilot.org/downloads/wiki/advanced_user_tools/PPM-Encoder-V3-Manual.pdf">view the manual here</a>.</p>
<a class="reference external image-reference" href="../_images/jDrones_PPM_Encoder_V21_Above_with_numbers_500px.jpg"><img alt="../_images/jDrones_PPM_Encoder_V21_Above_with_numbers_500px.jpg" src="../_images/jDrones_PPM_Encoder_V21_Above_with_numbers_500px.jpg" /></a>
<ul class="simple">
<li>Numbers 1-8, connects to your RC-Receiver</li>
<li>Cable marked with P, connects to Pixhawk PPM/RC Input</li>
</ul>
</div>
<div class="section" id="re-programming-the-atmega328p-ppm-encoder">
<h2>Re-Programming the Atmega328p PPM encoder<a class="headerlink" href="#re-programming-the-atmega328p-ppm-encoder" title="Permalink to this headline">¶</a></h2>
<p><strong>Note</strong>: !The PPM Encoder comes with the PPM encoder firmware
pre-programmed, and most users will never need or want to modify it.
However, some users may want to get into the code to change the way the
PPM Encoder interprets RC signals or may want to update to the latest
version. Some rare users did report receiver compatility problems with
the old version (before ArduPPM). For most cases, ArduPPM did solve
them.   ArduPPM is the official name for the newer generation firmwares.
It has been designed from scratch with reliability as a top priority.
The official release of the encoder firmware is in the Downloads section
as ArduPPM_Vx.x.xx_ATMega328p.hex. The official source code is in the
<a class="reference external" href="https://github.com/ArduPilot/ardupilot/tree/master/Tools/ArduPPM">Git repository here</a>.
The standalone PPM Encoder needs the ATMega328p version.   To flash,
connect the PPM Encoder to an AVR programmer such as the AVRISP mkII:</p>
<a class="reference external image-reference" href="../_images/reprogramming_the_standalone_ppm_encoder1.jpg"><img alt="../_images/reprogramming_the_standalone_ppm_encoder1.jpg" src="../_images/reprogramming_the_standalone_ppm_encoder1.jpg" /></a>
<p>When flashing, make sure the PPM Encoder is powered using any of the 5V
and Ground pins.</p>
<div class="section" id="re-programming-instructions-for-windows">
<h3>Re-Programming instructions for Windows<a class="headerlink" href="#re-programming-instructions-for-windows" title="Permalink to this headline">¶</a></h3>
<p>Download and install the
latest <a class="reference external" href="https://sourceforge.net/projects/winavr/">WinAVR</a>. Plug in
the AVRISP mkII and Install the drivers for AVRISP mkII as follows: Open
the device manager and select the AVRISP mkII, choose “Update Driver
Software…”</p>
<a class="reference external image-reference" href="../_images/windows_install_avrispmkii_driver_11.png"><img alt="../_images/windows_install_avrispmkii_driver_11.png" src="../_images/windows_install_avrispmkii_driver_11.png" /></a>
<p>Choose “Browse my Computer for driver software”</p>
<a class="reference external image-reference" href="../_images/windows_install_avrispmkii_driver_21.png"><img alt="../_images/windows_install_avrispmkii_driver_21.png" src="../_images/windows_install_avrispmkii_driver_21.png" /></a>
<p>Browse to the folder where WinAVR is installed (e.g.
C:\WinAVR-20100110\)   <a class="reference external" href="../_images/windows_install_avrispmkii_driver_31.png"><img alt="windows_install_avrispmkii_driver_3" src="../_images/windows_install_avrispmkii_driver_31.png" /></a></p>
<a class="reference external image-reference" href="../_images/windows_install_avrispmkii_driver_41.png"><img alt="../_images/windows_install_avrispmkii_driver_41.png" src="../_images/windows_install_avrispmkii_driver_41.png" /></a>
<p>Choose “Install this driver software anyway”</p>
<a class="reference external image-reference" href="../_images/windows_install_avrispmkii_driver_51.jpg"><img alt="../_images/windows_install_avrispmkii_driver_51.jpg" src="../_images/windows_install_avrispmkii_driver_51.jpg" /></a>
<p>This should finish successful:</p>
<a class="reference external image-reference" href="../_images/windows_install_avrispmkii_driver_61.jpg"><img alt="../_images/windows_install_avrispmkii_driver_61.jpg" src="../_images/windows_install_avrispmkii_driver_61.jpg" /></a>
<p>Now start the command line: Press “Start” and type cmd and enter.</p>
<a class="reference external image-reference" href="../_images/windows_start_cmd1.png"><img alt="../_images/windows_start_cmd1.png" src="../_images/windows_start_cmd1.png" /></a>
<p>Change Directory using cd to the folder where your Hex file is located:
e.g. cd Downloads\ if it is in Downloads   Then type the command:
avrdude -P usb -c avrispmkii -p atmega328p -U
flash:w:ArduPPM_Vx.x.x_PPM_Encoder.hex (substitute x.x.x with the
your version number)</p>
<a class="reference external image-reference" href="../_images/windows_cmd_avrdude_11.png"><img alt="../_images/windows_cmd_avrdude_11.png" src="../_images/windows_cmd_avrdude_11.png" /></a>
<p>If it all went well, the following output should appear:</p>
<a class="reference external image-reference" href="../_images/windows_cmd_avrdude_21.png"><img alt="../_images/windows_cmd_avrdude_21.png" src="../_images/windows_cmd_avrdude_21.png" /></a>
</div>
<div class="section" id="re-programming-instructions-for-mac-os-x">
<h3>Re-Programming instructions for Mac OS X<a class="headerlink" href="#re-programming-instructions-for-mac-os-x" title="Permalink to this headline">¶</a></h3>
<p>Todo: add content on how to flash the hex file here</p>
</div>
<div class="section" id="re-programming-instructions-for-linux">
<h3>Re-Programming instructions for Linux<a class="headerlink" href="#re-programming-instructions-for-linux" title="Permalink to this headline">¶</a></h3>
<p>Install avrdude:   For Ubuntu:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="n">avrdude</span>
</pre></div>
</div>
<p>Program instructions for the AVRISP mkII:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">avrdude</span> <span class="o">-</span><span class="n">p</span> <span class="n">atmega328p</span> <span class="o">-</span><span class="n">P</span> <span class="n">usb</span> <span class="o">-</span><span class="n">c</span> <span class="n">avrispmkii</span> <span class="o">-</span><span class="n">U</span> <span class="n">flash</span><span class="p">:</span><span class="n">w</span><span class="p">:</span><span class="n">ArduPPM_Vx</span><span class="o">.</span><span class="n">x</span><span class="o">.</span><span class="n">x_ATMega328p</span><span class="o">.</span><span class="n">hex</span>
</pre></div>
</div>
<p>This should output:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">avrdude</span><span class="p">:</span> <span class="n">AVR</span> <span class="n">device</span> <span class="n">initialized</span> <span class="ow">and</span> <span class="n">ready</span> <span class="n">to</span> <span class="n">accept</span> <span class="n">instructions</span>

<span class="n">Reading</span> <span class="o">|</span> <span class="c1">################################################## | 100% 0.00s</span>

<span class="n">avrdude</span><span class="p">:</span> <span class="n">Device</span> <span class="n">signature</span> <span class="o">=</span> <span class="mh">0x1e950f</span>
<span class="n">avrdude</span><span class="p">:</span> <span class="n">NOTE</span><span class="p">:</span> <span class="n">FLASH</span> <span class="n">memory</span> <span class="n">has</span> <span class="n">been</span> <span class="n">specified</span><span class="p">,</span> <span class="n">an</span> <span class="n">erase</span> <span class="n">cycle</span> <span class="n">will</span> <span class="n">be</span> <span class="n">performed</span>
         <span class="n">To</span> <span class="n">disable</span> <span class="n">this</span> <span class="n">feature</span><span class="p">,</span> <span class="n">specify</span> <span class="n">the</span> <span class="o">-</span><span class="n">D</span> <span class="n">option</span><span class="o">.</span>
<span class="n">avrdude</span><span class="p">:</span> <span class="n">erasing</span> <span class="n">chip</span>
<span class="n">avrdude</span><span class="p">:</span> <span class="n">reading</span> <span class="nb">input</span> <span class="n">file</span> <span class="s2">&quot;ArduPPM_V2.3.0_ATMega328p.hex&quot;</span>
<span class="n">avrdude</span><span class="p">:</span> <span class="nb">input</span> <span class="n">file</span> <span class="n">ArduPPM_V2</span><span class="o">.</span><span class="mf">3.0</span><span class="n">_ATMega328p</span><span class="o">.</span><span class="n">hex</span> <span class="n">auto</span> <span class="n">detected</span> <span class="k">as</span> <span class="n">Intel</span> <span class="n">Hex</span>
<span class="n">avrdude</span><span class="p">:</span> <span class="n">writing</span> <span class="n">flash</span> <span class="p">(</span><span class="mi">1952</span> <span class="nb">bytes</span><span class="p">):</span>

<span class="n">Writing</span> <span class="o">|</span> <span class="c1">################################################## | 100% 0.61s</span>

<span class="n">avrdude</span><span class="p">:</span> <span class="mi">1952</span> <span class="nb">bytes</span> <span class="n">of</span> <span class="n">flash</span> <span class="n">written</span>
<span class="n">avrdude</span><span class="p">:</span> <span class="n">verifying</span> <span class="n">flash</span> <span class="n">memory</span> <span class="n">against</span> <span class="n">ArduPPM_V2</span><span class="o">.</span><span class="mf">3.0</span><span class="n">_ATMega328p</span><span class="o">.</span><span class="n">hex</span><span class="p">:</span>
<span class="n">avrdude</span><span class="p">:</span> <span class="n">load</span> <span class="n">data</span> <span class="n">flash</span> <span class="n">data</span> <span class="kn">from</span> <span class="nn">input</span> <span class="n">file</span> <span class="n">ArduPPM_V2</span><span class="o">.</span><span class="mf">3.0</span><span class="n">_ATMega328p</span><span class="o">.</span><span class="n">hex</span><span class="p">:</span>
<span class="n">avrdude</span><span class="p">:</span> <span class="nb">input</span> <span class="n">file</span> <span class="n">ArduPPM_V2</span><span class="o">.</span><span class="mf">3.0</span><span class="n">_ATMega328p</span><span class="o">.</span><span class="n">hex</span> <span class="n">auto</span> <span class="n">detected</span> <span class="k">as</span> <span class="n">Intel</span> <span class="n">Hex</span>
<span class="n">avrdude</span><span class="p">:</span> <span class="nb">input</span> <span class="n">file</span> <span class="n">ArduPPM_V2</span><span class="o">.</span><span class="mf">3.0</span><span class="n">_ATMega328p</span><span class="o">.</span><span class="n">hex</span> <span class="n">contains</span> <span class="mi">1952</span> <span class="nb">bytes</span>
<span class="n">avrdude</span><span class="p">:</span> <span class="n">reading</span> <span class="n">on</span><span class="o">-</span><span class="n">chip</span> <span class="n">flash</span> <span class="n">data</span><span class="p">:</span>

<span class="n">Reading</span> <span class="o">|</span> <span class="c1">################################################## | 100% 0.56s</span>

<span class="n">avrdude</span><span class="p">:</span> <span class="n">verifying</span> <span class="o">...</span>
<span class="n">avrdude</span><span class="p">:</span> <span class="mi">1952</span> <span class="nb">bytes</span> <span class="n">of</span> <span class="n">flash</span> <span class="n">verified</span>

<span class="n">avrdude</span><span class="p">:</span> <span class="n">safemode</span><span class="p">:</span> <span class="n">Fuses</span> <span class="n">OK</span>

<span class="n">avrdude</span> <span class="n">done</span><span class="o">.</span>  <span class="n">Thank</span> <span class="n">you</span><span class="o">.</span>
</pre></div>
</div>
<p>If you get permission errors, try using sudo.</p>
</div>
</div>
<div class="section" id="re-compiling-options">
<h2>Re-Compiling Options<a class="headerlink" href="#re-compiling-options" title="Permalink to this headline">¶</a></h2>
<p>By default negative pulse PPM is encoded. In order to change to positive
pulse PPM, the line 158 in Tools/ArduPPM/Libraries/PPM_Encoder.h needs
to be uncommented from:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">//</span> <span class="c1">#define _POSITIVE_PPM_FRAME_ // Switch to positive pulse PPM</span>
</pre></div>
</div>
<p>to</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#define _POSITIVE_PPM_FRAME_    // Switch to positive pulse PPM</span>
</pre></div>
</div>
<div class="section" id="re-compiling-using-linux">
<h3>Re-Compiling using Linux<a class="headerlink" href="#re-compiling-using-linux" title="Permalink to this headline">¶</a></h3>
<p>These instructions are tested using Ubuntu:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="n">build</span><span class="o">-</span><span class="n">essential</span> <span class="n">git</span><span class="o">-</span><span class="n">core</span> <span class="n">gcc</span><span class="o">-</span><span class="n">avr</span> <span class="n">avrdude</span>
<span class="n">git</span> <span class="n">clone</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">code</span><span class="o">.</span><span class="n">google</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">p</span><span class="o">/</span><span class="n">ardupilot</span><span class="o">-</span><span class="n">mega</span>
<span class="n">cd</span> <span class="n">ardupilot</span><span class="o">-</span><span class="n">mega</span><span class="o">/</span><span class="n">Tools</span><span class="o">/</span><span class="n">ArduPPM</span><span class="o">/</span>
</pre></div>
</div>
<p>edit ATMega328p/Encoder-PPM.c or Libraries/PPM_Encoder.h now</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cd</span> <span class="n">ATMega328p</span><span class="o">/</span>
<span class="n">make</span> <span class="n">clean</span>
<span class="n">make</span>
</pre></div>
</div>
<p>and you should have your custom hex-file to program using:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">avrdude</span> <span class="o">-</span><span class="n">p</span> <span class="n">atmega328p</span> <span class="o">-</span><span class="n">P</span> <span class="n">usb</span> <span class="o">-</span><span class="n">c</span> <span class="n">avrispmkii</span> <span class="o">-</span><span class="n">U</span> <span class="n">flash</span><span class="p">:</span><span class="n">w</span><span class="p">:</span><span class="n">Encoder</span><span class="o">-</span><span class="n">PPM</span><span class="o">.</span><span class="n">hex</span>
</pre></div>
</div>
</div>
</div>
</div>


            
            
             
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="precision-landing-with-irlock.html" class="btn btn-neutral float-right" title="Precision Landing and Loiter with IR-LOCK" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="common-ppm-encoder.html" class="btn btn-neutral" title="PPM Encoder" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>
  
  
  Questions, issues, and suggestions about this page can be raised on the <a href="https://discuss.ardupilot.org">forums</a>. Issues and suggestions may be posted on the forums or the <a href="https://github.com/ArduPilot/ardupilot_wiki/issues/new?title=PPM Encoder AT328P 8 Channel Standalone Encoder&amp;body=[PPM Encoder AT328P 8 Channel Standalone Encoder](https://ardupilot.org/copter/docs/common-ppm-encoder-8-channel-standalone-encoder.html)%20-%20Describe%20the%20issue/suggestion%20and%20improve%20the%20title.%20Please%20keep%20a%20link%20to%20the%20original%20article%20if%20relevant.&amp;labels=docs">Github Issue Tracker</a>.
  <hr/>

  <div role="contentinfo">
    <p>
    <a style="float:right;" rel="license" href="https://creativecommons.org/licenses/by-sa/3.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/3.0/88x31.png" /></a>
        &copy; Copyright 2020, ArduPilot Dev Team.

    </p>
  </div>
  


</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="../_static/language_data.js"></script>
      <script type="text/javascript" src="../_static/./useralerts.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
    <script type="text/javascript" src="../_static/js/menubar.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   


<!-- Google Analytics -->
<!-- This is official ArduPilot analytics account -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  _gaq.push(['_trackPageLoadTime']);
  _gaq.push(["_setSiteSpeedSampleRate", 0]);
  ga('create', 'UA-75650032-1', 'auto');
  ga('send', 'pageview');

</script>
<!-- Google Analytics -->

</body>
</html>