

<!-- Path to wiki directories, without backslash -->

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Geotagging Images with Mission Planner &mdash; Copter  documentation</title>
  

  <!-- favicon -->
  
  
    <link rel="shortcut icon" href="../_static/favicon_copter.ico"/>
  
  <!-- favicon end -->
  
  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../_static/common_theme_override.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="Copter  documentation" href="../index.html"/>
        <link rel="up" title="Mission Planning" href="common-mission-planning.html"/>
        <link rel="next" title="Mission Rewind on Resume" href="common-mission-rewind.html"/>
        <link rel="prev" title="Rally Points" href="common-rally-points.html"/>  
  <script type="text/javascript">
  window.liveSettings = {
    api_key: "53747d3f35bf4cec9372629094cd9fe2",
    picker: "bottom-right",
    detectlang: true,
    autocollect: true,
    dynamic: false
  };
  </script>


  
  <script src="../_static/js/modernizr.min.js"></script>

</head>



<body class="wy-body-for-nav" role="document">

        
    <div id='cssmenu'>
        <ul>
           <li><a href='/ardupilot/index.html'>Home</a>
              <ul>
                 <li><a href='/copter/index.html'>Copter</a></li>
                 <li><a href='/plane/index.html'>Plane</a></li>
                 <li><a href='/rover/index.html'>Rover</a></li>
                 <li><a href='http://ardusub.com/'>Sub</a></li>
                 <li><a href='/antennatracker/index.html'>AntennaTracker</a></li>
                 <li><a href='/planner/index.html'>Mission Planner</a></li>
                 <li><a href='/planner2/index.html'>APM Planner 2</a></li>
                 <li><a href='/mavproxy/index.html'>MAVProxy</a></li>
                 <li><a href='/dev/docs/companion-computers.html'>Companion Computers</a></li>
                 <li><a href='/dev/index.html'>Developer</a></li>
              </ul>
           </li>
           
          
           
           <li><a href='https://firmware.ardupilot.org/'>Downloads</a>
              <ul>
                <li><a href='https://firmware.ardupilot.org/Tools/MissionPlanner/'>Mission Planner</a></li>
                <li><a href='https://firmware.ardupilot.org/Tools/APMPlanner/'>APM Planner 2</a></li>
                   <li><a title="Advanced User Tools" href="common-downloads_advanced_user_tools.html">Advanced User Tools</a></li>
                   <li><a title="Developer Tools" href="common-downloads_developer_tools.html">Developer Tools</a></li>
                   <li><a title="Firmware" href="common-downloads_firmware.html">Firmware</a></li>
                </ul>
           </li>
           
           <li><a href='https://discuss.ardupilot.org' />Community</a>
              <ul>
                 <li><a href='https://discuss.ardupilot.org/'>Support Forums</a></li>
                 <li><a href='https://www.facebook.com/groups/ArduPilot.org'>Facebook</a></li>
                 <li><a href='https://ardupilot.org/discord'>Developer Chat (Discord)</a></li>
                 <li><a href='https://ardupilot.org/discord'>Developer Voice (Discord)</a></li>
				 <li><a href='https://ardupilot.org/dev/docs/common-contact-us.html'>Contact us</a></li>
				 <li><a href='https://ardupilot.org/dev/index.html#getting-involved'>Getting involved</a></li>
                   <li><a title="Commercial Support" href="common-commercial-support.html">Commercial Support</a></li>
                   <li><a title="Dev Team" href="common-team.html">Development Team</a></li>
                   <li><a title="Training Centers" href="common-training-centers.html">UAS Training Centers</a></li>
              </ul>
           </li>
             <li><a title="Stores" href="common-stores.html">Stores</a></li>


             <li><a title="SWAG Shop" href="https://shop.ardupilot.org">SWAG</a></li>

           
           
                        <li><a title="About" href="../index.html">About</a>
               <ul>
                   <li><a title="Project News" href="project-news.html">News</a></li>
                   <li><a title="History of ArduPilot" href="common-history-of-ardupilot.html">History</a></li>
                   <li><a href='https://ardupilot.org/dev/docs/license-gplv3.html'>License</a></li>
                   <li><a href='https://ardupilot.org/dev/docs/trademark.html'>Trademark</a></li>
                   <li><a title="Acknowledgments" href="common-acknowledgments.html">Acknowledgments</a></li>
                   <li><a title="Wiki Editing Guide" href="common-wiki_editing_guide.html">Wiki Editing Guide</a></li>
               </ul>
             </li>
        </ul>
        
<style>
#jdlogo {
  top: 10px;
  right: 20px;
  position: absolute;
  color: #dddddd;
}
#jdlogo a:visited,
#jdlogo a:link {
  color: #9B59B6;
}
#jdlogo a:hover,
#jdlogo a:active {
  color: #CACACA;
}
</style>

</div>

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        

        
          <a href="../index.html" class="icon icon-home"> Copter
        

        
          
          <img src="../_static/ardupilot_logo.png" class="logo" />
        
        </a>

        
          
          
        

        
          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        
        
        
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introducing Copter</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-autopilots.html">AutoPilot Hardware Options</a></li>
<li class="toctree-l1"><a class="reference internal" href="initial-setup.html">First Time Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="flying-arducopter.html">First Flight</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-when-problems-arise.html">If A Problem Arises</a></li>
<li class="toctree-l1"><a class="reference internal" href="copter-flight-features.html">Flight Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-advanced-configuration.html">Advanced Configuration</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="common-mission-planning.html">Mission Planning</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="common-planning-a-mission-with-waypoints-and-events.html">Planning a Mission with Waypoints and Events</a></li>
<li class="toctree-l2"><a class="reference internal" href="mission-command-list.html">Copter Mission Command List</a></li>
<li class="toctree-l2"><a class="reference internal" href="common-mavlink-mission-command-messages-mav_cmd.html">Mission Command List</a></li>
<li class="toctree-l2"><a class="reference internal" href="common-camera-control-and-auto-missions-in-mission-planner.html">Camera Control in Auto Missions</a></li>
<li class="toctree-l2"><a class="reference internal" href="common-rally-points.html">Rally Points</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Geotagging Images with Mission Planner</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="#geotagging-images">Geotagging images</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#common-pre-steps">Common pre-steps</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cam-messages">CAM messages</a></li>
<li class="toctree-l4"><a class="reference internal" href="#time-offset">Time offset</a></li>
<li class="toctree-l4"><a class="reference internal" href="#common-post-steps">Common post-steps</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#interface-overview">Interface overview</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#files-selection">Files selection</a></li>
<li class="toctree-l4"><a class="reference internal" href="#geotag-mode">Geotag mode</a></li>
<li class="toctree-l4"><a class="reference internal" href="#time-offset-estimation-and-shutter-lag">Time offset estimation and shutter lag</a></li>
<li class="toctree-l4"><a class="reference internal" href="#item-offsets-in-log">Item offsets in log</a></li>
<li class="toctree-l4"><a class="reference internal" href="#fov-and-altitude-reference">FOV and altitude reference</a></li>
<li class="toctree-l4"><a class="reference internal" href="#action-buttons">Action buttons</a></li>
<li class="toctree-l4"><a class="reference internal" href="#process-messages">Process messages</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#additional-information">Additional information</a></li>
<li class="toctree-l3"><a class="reference internal" href="#acknowledgements">Acknowledgements</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="terrain-following.html">Terrain Following</a></li>
<li class="toctree-l2"><a class="reference internal" href="common-mission-rewind.html">Rewind-on-resume</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="common-logs.html">Logs</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-optional-hardware.html">Peripheral Hardware</a></li>
<li class="toctree-l1"><a class="reference internal" href="traditional-helicopters.html">Traditional Helicopters</a></li>
<li class="toctree-l1"><a class="reference internal" href="tricopter.html">Tricopter</a></li>
<li class="toctree-l1"><a class="reference internal" href="singlecopter-and-coaxcopter.html">SingleCopter and CoaxCopter</a></li>
<li class="toctree-l1"><a class="reference internal" href="heliquads.html">HeliQuads</a></li>
<li class="toctree-l1"><a class="reference internal" href="skyrocket.html">SkyRocket</a></li>
<li class="toctree-l1"><a class="reference internal" href="solo_arducopter_upgrade.html">Solo</a></li>
<li class="toctree-l1"><a class="reference internal" href="reference-frames.html">Reference Frames</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-use-cases-and-applications.html">Use-Cases and Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-antenna-tracking.html">Antenna Tracking</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-simulation.html">Simulation</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-master-features.html">Upcoming Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-user-alerts.html">User Alerts</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-appendix.html">Appendix</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-table-of-contents.html">Full Table of Contents</a></li>
</ul>

          
        
        
        <!-- add paypal and dronecode logos -->
                <div style="margin: auto; padding-left:20px; padding-right:20px; width=100%">

        <hr />
        <form style="margin:auto;" action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
        <input type="hidden" name="cmd" value="_s-xclick" />
        <input type="hidden" name="hosted_button_id" value="BBF28AFAD58B2" />
        <input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donate_LG.gif" border="0" name="submit" title="PayPal - The safer, easier way to pay online!" alt="Donate" />
        </form>
        <br>
        <a href="common-donation.html">Individual</a>
        <a href="common-partners.html">Partners</a>
        <a href="https://shop.ardupilot.org">SWAG Shop</a>

        <hr />
        </div>
        <!-- endadd paypal and dronecode logos -->
              
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">Copter</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



 
 
 
 
 
  
   
 

<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
          <li><a href="common-mission-planning.html">Mission Planning</a> &raquo;</li>
      
    <li>Geotagging Images with Mission Planner</li>
      <li class="wy-breadcrumbs-aside">
                
          
            <a href="https://github.com/ArduPilot/ardupilot_wiki/blob/master/common/source/docs/common-geotagging-images-with-mission-planner.rst" class="fa fa-github"> Edit on GitHub</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="geotagging-images-with-mission-planner">
<span id="common-geotagging-images-with-mission-planner"></span><h1>Geotagging Images with Mission Planner<a class="headerlink" href="#geotagging-images-with-mission-planner" title="Permalink to this headline">¶</a></h1>
<p>This article shows how to Geo-tag images, using <em>Mission Planner</em> to
inject data from telemetry logs into their EXIF tags.</p>
<div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>Geo-tagging images makes it easier to photo-merge the many pictures
taken during a <a class="reference internal" href="common-camera-control-and-auto-missions-in-mission-planner.html#common-camera-control-and-auto-missions-in-mission-planner"><span class="std std-ref">camera mission</span></a>,
and is important for applications including photogrammetry, orthophoto
generation, 3D terrain modeling etc.</p>
<p><em>Mission Planner</em> provides two methods for geotagging your photos from a
mission log:</p>
<ol class="arabic">
<li><p class="first"><strong>CAM messages from dataflash log</strong></p>
<p>ArduPilot can trigger a camera during pre-programmed missions or by
RC activation using the <code class="docutils literal notranslate"><span class="pre">DO_DIGICAM_CONTROL</span></code> or
<code class="docutils literal notranslate"><span class="pre">DO_SET_CAM_TRIGG_DIST</span></code> commands. Corresponding CAM messages are
stored in the dataflash log, and can be used by Mission Planner to
add accurate geotag information to images.</p>
</li>
<li><p class="first"><strong>Time offset (image timestamp to log timestamp)</strong></p>
<p>This method uses the time difference between the camera internal
clock and system clock to determine where in the log each image was
taken and get the GPS information. Typically users must tune the
offset value in order to find a sensible result.</p>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<dl class="last docutils">
<dt>This method is less accurate. It is used when there is no</dt>
<dd><p class="first last">connection between camera and autopilot.</p>
</dd>
</dl>
</div>
</li>
</ol>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Even if your camera has a built-in GPS you <em>may</em> find this
approach provide more accurate information than the built-in GPS.</p>
</div>
</div>
<div class="section" id="geotagging-images">
<h2>Geotagging images<a class="headerlink" href="#geotagging-images" title="Permalink to this headline">¶</a></h2>
<div class="section" id="common-pre-steps">
<h3>Common pre-steps<a class="headerlink" href="#common-pre-steps" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p class="first">Open Mission Planner and press <strong>Ctrl+F</strong>. This will open a hidden
screen like the one shown below.</p>
<div class="figure" id="id1">
<a class="reference external image-reference" href="../_images/geotag_temp_form-v2.png"><img alt="../_images/geotag_temp_form-v2.png" src="../_images/geotag_temp_form-v2.png" /></a>
<p class="caption"><span class="caption-text">Mission Planner: Temp Screen (Ctrl +F)</span></p>
</div>
</li>
<li><p class="first">Click the button <strong>Geo ref images</strong>. It will give you access to the
<em>Geo Tagging</em> tool</p>
<div class="figure" id="id2">
<a class="reference external image-reference" href="../_images/geotag_overview-v2.png"><img alt="../_images/geotag_overview-v2.png" src="../_images/geotag_overview-v2.png" /></a>
<p class="caption"><span class="caption-text">Mission Planner: Geo Ref Images Screen</span></p>
</div>
</li>
<li><p class="first">Click the button <strong>Browse Log</strong> and select the log (<strong>.tlog</strong> or
<strong>.log)</strong> of the flight related to the shooting session.</p>
</li>
<li><p class="first">Click the button <strong>Browse Directory</strong> and select the folder where
your aerial pictures were downloaded from your camera.</p>
<p>Notice that the camera picture folder can contain other files apart
from the pictures. However in terms of pictures, it must contain just
the ones belonging to the flight.</p>
</li>
</ul>
<p>The next steps depend on whether you’re using CAM Messages or a time
offset.</p>
</div>
<div class="section" id="cam-messages">
<h3>CAM messages<a class="headerlink" href="#cam-messages" title="Permalink to this headline">¶</a></h3>
<p>In order to process CAM messages, the mission file had to be defined to
use remote camera trigger by means of any of the available mission
commands (CAM_TRIGG_DISTANCE, DO_DIGICAM_CONTROL, etc).</p>
<ul class="simple">
<li>Select the <strong>CAM Message</strong> method if it is not selected in the
<em>Geotag Mode</em> section.</li>
<li>Enter Shutter Lag value (in milliseconds) if you know it. If not
leave it with 0</li>
<li>Check that Log offsets are correct according to your log version
(usually these are OK)</li>
<li>Enter FOV information if needed</li>
<li>Select <strong>Use AMSL Alt</strong> checkbox if you want absolute altitude.
Otherwise, uncheck</li>
<li>Click <strong>Pre-process</strong></li>
</ul>
<p>If pre-processing works correctly, you will see <code class="docutils literal notranslate"><span class="pre">Done</span></code> displayed at
the end of the <em>Process Messages Area</em>.</p>
<a class="reference external image-reference" href="../_images/geotag_cam_processing_1_no_shutter_AMSL_total.png"><img alt="../_images/geotag_cam_processing_1_no_shutter_AMSL_total.png" src="../_images/geotag_cam_processing_1_no_shutter_AMSL_total.png" /></a>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The most common problem in this processing mode is having a
discrepancy between the number of CAM messages in log and the number of
pictures in the folder. If the tool finds that they are different, it
will output an error message and abort.</p>
</div>
<p>The final step is to “sanity check” the proposed picture location using
the <strong>Location Kml</strong> button (See <a class="reference internal" href="#common-geotagging-images-with-mission-planner-common-post-steps"><span class="std std-ref">Common Post-steps</span></a> below).</p>
</div>
<div class="section" id="time-offset">
<h3>Time offset<a class="headerlink" href="#time-offset" title="Permalink to this headline">¶</a></h3>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">If you haven’t flown yet, one useful trick is to synchronize camera
and system time.</p>
</div>
<ul>
<li><p class="first">Select the <strong>Time Offset</strong> method if it is not selected in the
<em>Geotag Mode</em> section.</p>
</li>
<li><p class="first">Click on <strong>Estimate Offset</strong> button</p>
<p>The tool will calculate (as explained in previous section) the time
difference between the first picture and the first GPS time in the
log.</p>
</li>
<li><p class="first">Copy the calculated offset printed in the <em>Process Messages Area</em> and
paste it into the field <em>Seconds offset</em></p>
<p>Take a look at the following picture:</p>
<a class="reference external image-reference" href="../_images/geotag_offset_calculation.jpg"><img alt="../_images/geotag_offset_calculation.jpg" src="../_images/geotag_offset_calculation.jpg" /></a>
</li>
<li><p class="first">Click <strong>Pre-process</strong></p>
</li>
</ul>
<p>If pre-processing works correctly, you will see <code class="docutils literal notranslate"><span class="pre">Done</span></code> displayed at
the end of the <em>Process Messages Area</em>.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p>The most common problem when using this method is the use of an
inaccurate time offset. Remember that the estimated time offset is just
a starting point!</p>
<p>The Geotag tool will output a warning if pictures are discovered that
are not found in the autopilot log - see picture below:</p>
<div class="last figure" id="id3">
<a class="reference external image-reference" href="../_images/geotag_offset_problem.png"><img alt="../_images/geotag_offset_problem.png" src="../_images/geotag_offset_problem.png" /></a>
<p class="caption"><span class="caption-text">Mission Planner: Images not found in log at specified offset</span></p>
</div>
</div>
<p>The final step is to “sanity check” the proposed picture location using
the <strong>Location Kml</strong> button (See <a class="reference internal" href="#common-geotagging-images-with-mission-planner-common-post-steps"><span class="std std-ref">Common Post-steps</span></a> below). If the proposed locations are
not correct, add or subtract some seconds to the <em>Offset Time</em> and
repeat.</p>
</div>
<div class="section" id="common-post-steps">
<span id="common-geotagging-images-with-mission-planner-common-post-steps"></span><h3>Common post-steps<a class="headerlink" href="#common-post-steps" title="Permalink to this headline">¶</a></h3>
<p>The remaining steps are to check that proposed picture locations are
acceptable and write location information to the picture’s EXIF data:</p>
<ul>
<li><p class="first">Click on the <strong>Location Kml</strong> button. Google Earth will open and show
the proposed picture locations (as shown below):</p>
<a class="reference external image-reference" href="../_images/geotag_google_earth_review.jpg"><img alt="../_images/geotag_google_earth_review.jpg" src="../_images/geotag_google_earth_review.jpg" /></a>
</li>
<li><p class="first">Check that they are OK. If you used <em>CAM Message</em> mode, there
shouldn’t be any problem (iIf there is, just order pictures
alphabetically and check that the first picture in the list is also
the oldest one). If you used <em>Time Offset</em>, just try adding or
subtracting seconds to time offset.</p>
</li>
<li><p class="first">If everything is OK, click on <strong>GeoTag Images</strong> button and wait to
see the processing message <code class="docutils literal notranslate"><span class="pre">Geo</span> <span class="pre">tagging</span> <span class="pre">FINISHED</span></code>.</p>
</li>
</ul>
<p>Geotagged files can be found in <em>geotagged</em> folder inside the original
pictures folder</p>
</div>
</div>
<div class="section" id="interface-overview">
<h2>Interface overview<a class="headerlink" href="#interface-overview" title="Permalink to this headline">¶</a></h2>
<p>The <em>Mission Planner Geo Ref Images</em> screen is shown below:</p>
<a class="reference external image-reference" href="../_images/geotag_overview_explained.jpg"><img alt="../_images/geotag_overview_explained.jpg" src="../_images/geotag_overview_explained.jpg" /></a>
<div class="section" id="files-selection">
<h3>Files selection<a class="headerlink" href="#files-selection" title="Permalink to this headline">¶</a></h3>
<p>This is where the user has to select the log location and camera
pictures folder</p>
</div>
<div class="section" id="geotag-mode">
<h3>Geotag mode<a class="headerlink" href="#geotag-mode" title="Permalink to this headline">¶</a></h3>
<p>As explained above, there are two options. CAM Messages and Time offset.</p>
</div>
<div class="section" id="time-offset-estimation-and-shutter-lag">
<h3>Time offset estimation and shutter lag<a class="headerlink" href="#time-offset-estimation-and-shutter-lag" title="Permalink to this headline">¶</a></h3>
<p>This section is only relevant if <em>Time Offset</em> mode has been selected.</p>
<p>The time offset needs to be estimated by comparing the first picture
time and the first GPS time in the log. Once the user clicks the
<strong>Estimate Offset</strong> button, the tool will calculate time offset and
print the result in the <em>Process Messages</em> section at the bottom of the
window:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Offset</span> <span class="n">Estimation</span> <span class="o">=</span> <span class="mi">1</span><span class="n">st_Picture_Time</span> <span class="o">-</span> <span class="mi">1</span><span class="n">st_GPS_Time_Logged</span>
</pre></div>
</div>
<p>Notes:</p>
<ul class="simple">
<li>If CAM Message is selected, the Shutter Lag option is available. Note
that GPS positions are stored at 5Hz by default (if using 3DR GPS) so
they are recorded every 200ms.</li>
<li>If Shutter Lag is less than 100ms, then GPS position is taken from
current CAM Message.</li>
<li>If Shutter Lag is bigger than 100ms, the GPS position is taken from
200ms ahead in log.</li>
</ul>
</div>
<div class="section" id="item-offsets-in-log">
<h3>Item offsets in log<a class="headerlink" href="#item-offsets-in-log" title="Permalink to this headline">¶</a></h3>
<p>This section allows the user to tell the tool where specific information
can be found in the log. There are three messages whose offsets need to
be defined</p>
<ul class="simple">
<li>CAM</li>
<li>GPS</li>
<li>ATT</li>
</ul>
<div class="admonition tip">
<p class="first admonition-title">Tip</p>
<p class="last">Item offsets are preset to the values for the last stable APM
release.</p>
</div>
<p><strong>Example of how to find out item offset in a message line within a
log</strong></p>
<p>Lets take a look at the GPS Line Format definition at the beginning of a
log:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">FMT</span><span class="p">,</span> <span class="mi">130</span><span class="p">,</span> <span class="mi">45</span><span class="p">,</span> <span class="n">GPS</span><span class="p">,</span> <span class="n">BIHBcLLeeEefI</span><span class="p">,</span> <span class="n">Status</span><span class="p">,</span><span class="n">TimeMS</span><span class="p">,</span><span class="n">Week</span><span class="p">,</span><span class="n">NSats</span><span class="p">,</span><span class="n">HDop</span><span class="p">,</span><span class="n">La6t</span><span class="p">,</span><span class="n">Lng</span><span class="p">,</span><span class="n">RelAlt</span><span class="p">,</span><span class="n">Alt</span><span class="p">,</span><span class="n">Spd</span><span class="p">,</span><span class="n">GCrs</span><span class="p">,</span><span class="n">VZ</span><span class="p">,</span><span class="n">T</span>
</pre></div>
</div>
<p>The field with the number <strong>1</strong> is the one after the
<code class="docutils literal notranslate"><span class="pre">Units-definition-word</span></code>.</p>
<p>In our case, the <code class="docutils literal notranslate"><span class="pre">Units-definition-word</span></code> is <code class="docutils literal notranslate"><span class="pre">BIHBcLLeeEefI</span></code>. So the
field with number <strong>1</strong> is <strong>Status</strong></p>
<p>From this we should have:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">TimeMS</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">Week</span> <span class="o">=</span> <span class="mi">3</span>
<span class="n">Lat</span> <span class="o">=</span> <span class="mi">6</span>
<span class="o">...</span>
</pre></div>
</div>
</div>
<div class="section" id="fov-and-altitude-reference">
<h3>FOV and altitude reference<a class="headerlink" href="#fov-and-altitude-reference" title="Permalink to this headline">¶</a></h3>
<p>This is where the user can define the Field of View (FOV) and
orientation information. This information is incorporated into the
result files but it is not used or stored in the picture EXIF data.</p>
<p>The <strong>AMSL Alt</strong> checkbox allows to select either AGL Altitude (Above
Ground Level) or AMSL Altitude (Above Mean Sea Level).</p>
</div>
<div class="section" id="action-buttons">
<h3>Action buttons<a class="headerlink" href="#action-buttons" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><strong>Pre-process</strong> - When this button is clicked, Geotag tool will try
to extract and calculate pictures positions</li>
<li><strong>Location Kml</strong> - When this button is clicked, Geotag tool will open
Google Earth and show pictures position on a map so the user can
check their correct positioning.</li>
<li><strong>GeoTag Images</strong> - If everything was correct in previous steps and
pictures are well positioned in the map, this button will write the
position information in the EXIF data of every picture</li>
</ul>
</div>
<div class="section" id="process-messages">
<h3>Process messages<a class="headerlink" href="#process-messages" title="Permalink to this headline">¶</a></h3>
<p>This is the place where the tool will output information</p>
</div>
</div>
<div class="section" id="additional-information">
<h2>Additional information<a class="headerlink" href="#additional-information" title="Permalink to this headline">¶</a></h2>
<p>This section contains links to additional information/information for
working with specific cameras:</p>
<ul class="simple">
<li><a class="reference external" href="http://tuffwing.com/support/geotag_gopro_images_with_pixhawk_log.html">Geotag GoPro Images with a Pixhawk Log File</a> (tuffwing.com)</li>
</ul>
</div>
<div class="section" id="acknowledgements">
<h2>Acknowledgements<a class="headerlink" href="#acknowledgements" title="Permalink to this headline">¶</a></h2>
<p>This tutorial was created to show you how does it work. Original work
from Sandro Benigno and Guto Santaella updated by Jesus Alvarez.</p>
</div>
</div>


            
            
             
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="common-mission-rewind.html" class="btn btn-neutral float-right" title="Mission Rewind on Resume" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="common-rally-points.html" class="btn btn-neutral" title="Rally Points" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>
  
  
  Questions, issues, and suggestions about this page can be raised on the <a href="https://discuss.ardupilot.org">forums</a>. Issues and suggestions may be posted on the forums or the <a href="https://github.com/ArduPilot/ardupilot_wiki/issues/new?title=Geotagging Images with Mission Planner&amp;body=[Geotagging Images with Mission Planner](https://ardupilot.org/copter/docs/common-geotagging-images-with-mission-planner.html)%20-%20Describe%20the%20issue/suggestion%20and%20improve%20the%20title.%20Please%20keep%20a%20link%20to%20the%20original%20article%20if%20relevant.&amp;labels=docs">Github Issue Tracker</a>.
  <hr/>

  <div role="contentinfo">
    <p>
    <a style="float:right;" rel="license" href="https://creativecommons.org/licenses/by-sa/3.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/3.0/88x31.png" /></a>
        &copy; Copyright 2020, ArduPilot Dev Team.

    </p>
  </div>
  


</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="../_static/language_data.js"></script>
      <script type="text/javascript" src="../_static/./useralerts.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
    <script type="text/javascript" src="../_static/js/menubar.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   


<!-- Google Analytics -->
<!-- This is official ArduPilot analytics account -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  _gaq.push(['_trackPageLoadTime']);
  _gaq.push(["_setSiteSpeedSampleRate", 0]);
  ga('create', 'UA-75650032-1', 'auto');
  ga('send', 'pageview');

</script>
<!-- Google Analytics -->

</body>
</html>