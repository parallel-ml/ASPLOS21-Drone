

<!-- Path to wiki directories, without backslash -->

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>mRobotics KitCAN CAN/UAVCAN Adapter Node+Compass+Baro &mdash; Copter  documentation</title>
  

  <!-- favicon -->
  
  
    <link rel="shortcut icon" href="../_static/favicon_copter.ico"/>
  
  <!-- favicon end -->
  
  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../_static/common_theme_override.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="Copter  documentation" href="../index.html"/>
        <link rel="up" title="UAVCAN Peripherals" href="common-uavcan-peripherals.html"/>
        <link rel="next" title="mRobotics UAVCAN Adapter Node" href="common-mro-uavcan-adapter-node.html"/>
        <link rel="prev" title="Matek UAVCAN DLVR-10 Airspeed Sensor" href="common-matek-uavcan-dlvr.html"/>  
  <script type="text/javascript">
  window.liveSettings = {
    api_key: "53747d3f35bf4cec9372629094cd9fe2",
    picker: "bottom-right",
    detectlang: true,
    autocollect: true,
    dynamic: false
  };
  </script>


  
  <script src="../_static/js/modernizr.min.js"></script>

</head>



<body class="wy-body-for-nav" role="document">

        
    <div id='cssmenu'>
        <ul>
           <li><a href='/ardupilot/index.html'>Home</a>
              <ul>
                 <li><a href='/copter/index.html'>Copter</a></li>
                 <li><a href='/plane/index.html'>Plane</a></li>
                 <li><a href='/rover/index.html'>Rover</a></li>
                 <li><a href='http://ardusub.com/'>Sub</a></li>
                 <li><a href='/antennatracker/index.html'>AntennaTracker</a></li>
                 <li><a href='/planner/index.html'>Mission Planner</a></li>
                 <li><a href='/planner2/index.html'>APM Planner 2</a></li>
                 <li><a href='/mavproxy/index.html'>MAVProxy</a></li>
                 <li><a href='/dev/docs/companion-computers.html'>Companion Computers</a></li>
                 <li><a href='/dev/index.html'>Developer</a></li>
              </ul>
           </li>
           
          
           
           <li><a href='https://firmware.ardupilot.org/'>Downloads</a>
              <ul>
                <li><a href='https://firmware.ardupilot.org/Tools/MissionPlanner/'>Mission Planner</a></li>
                <li><a href='https://firmware.ardupilot.org/Tools/APMPlanner/'>APM Planner 2</a></li>
                   <li><a title="Advanced User Tools" href="common-downloads_advanced_user_tools.html">Advanced User Tools</a></li>
                   <li><a title="Developer Tools" href="common-downloads_developer_tools.html">Developer Tools</a></li>
                   <li><a title="Firmware" href="common-downloads_firmware.html">Firmware</a></li>
                </ul>
           </li>
           
           <li><a href='https://discuss.ardupilot.org' />Community</a>
              <ul>
                 <li><a href='https://discuss.ardupilot.org/'>Support Forums</a></li>
                 <li><a href='https://www.facebook.com/groups/ArduPilot.org'>Facebook</a></li>
                 <li><a href='https://ardupilot.org/discord'>Developer Chat (Discord)</a></li>
                 <li><a href='https://ardupilot.org/discord'>Developer Voice (Discord)</a></li>
				 <li><a href='https://ardupilot.org/dev/docs/common-contact-us.html'>Contact us</a></li>
				 <li><a href='https://ardupilot.org/dev/index.html#getting-involved'>Getting involved</a></li>
                   <li><a title="Commercial Support" href="common-commercial-support.html">Commercial Support</a></li>
                   <li><a title="Dev Team" href="common-team.html">Development Team</a></li>
                   <li><a title="Training Centers" href="common-training-centers.html">UAS Training Centers</a></li>
              </ul>
           </li>
             <li><a title="Stores" href="common-stores.html">Stores</a></li>


             <li><a title="SWAG Shop" href="https://shop.ardupilot.org">SWAG</a></li>

           
           
                        <li><a title="About" href="../index.html">About</a>
               <ul>
                   <li><a title="Project News" href="project-news.html">News</a></li>
                   <li><a title="History of ArduPilot" href="common-history-of-ardupilot.html">History</a></li>
                   <li><a href='https://ardupilot.org/dev/docs/license-gplv3.html'>License</a></li>
                   <li><a href='https://ardupilot.org/dev/docs/trademark.html'>Trademark</a></li>
                   <li><a title="Acknowledgments" href="common-acknowledgments.html">Acknowledgments</a></li>
                   <li><a title="Wiki Editing Guide" href="common-wiki_editing_guide.html">Wiki Editing Guide</a></li>
               </ul>
             </li>
        </ul>
        
<style>
#jdlogo {
  top: 10px;
  right: 20px;
  position: absolute;
  color: #dddddd;
}
#jdlogo a:visited,
#jdlogo a:link {
  color: #9B59B6;
}
#jdlogo a:hover,
#jdlogo a:active {
  color: #CACACA;
}
</style>

</div>

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        

        
          <a href="../index.html" class="icon icon-home"> Copter
        

        
          
          <img src="../_static/ardupilot_logo.png" class="logo" />
        
        </a>

        
          
          
        

        
          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        
        
        
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introducing Copter</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-autopilots.html">AutoPilot Hardware Options</a></li>
<li class="toctree-l1"><a class="reference internal" href="initial-setup.html">First Time Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="flying-arducopter.html">First Flight</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-when-problems-arise.html">If A Problem Arises</a></li>
<li class="toctree-l1"><a class="reference internal" href="copter-flight-features.html">Flight Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-advanced-configuration.html">Advanced Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-mission-planning.html">Mission Planning</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-logs.html">Logs</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="common-optional-hardware.html">Peripheral Hardware</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="common-ads-b-receiver.html">ADS-B Receiver</a></li>
<li class="toctree-l2"><a class="reference internal" href="common-powermodule-landingpage.html">Battery Monitors (aka Power Modules)</a></li>
<li class="toctree-l2"><a class="reference internal" href="common-baro-external.html">Barometer (external)</a></li>
<li class="toctree-l2"><a class="reference internal" href="common-buzzer.html">Buzzer</a></li>
<li class="toctree-l2"><a class="reference internal" href="common-cameras-and-gimbals.html">Cameras &amp; Gimbals</a></li>
<li class="toctree-l2"><a class="reference internal" href="common-companion-computers.html">Companion Computers</a></li>
<li class="toctree-l2"><a class="reference internal" href="sprayer.html">Crop Sprayer</a></li>
<li class="toctree-l2"><a class="reference internal" href="common-display-onboard.html">Display (Onboard)</a></li>
<li class="toctree-l2"><a class="reference internal" href="common-escs-and-motors.html">ESCs and Motors</a></li>
<li class="toctree-l2"><a class="reference internal" href="common-fpv-first-person-view.html">First Person View Video</a></li>
<li class="toctree-l2"><a class="reference internal" href="common-fuel-sensors.html">Fuel Flow and Level Sensors</a></li>
<li class="toctree-l2"><a class="reference internal" href="common-positioning-landing-page.html">GPS/Compass</a></li>
<li class="toctree-l2"><a class="reference internal" href="common-gripper-landingpage.html">Grippers</a></li>
<li class="toctree-l2"><a class="reference internal" href="common-joystick.html">Joystick or Gamepad</a></li>
<li class="toctree-l2"><a class="reference internal" href="common-landing-gear.html">Landing Gear/ Retractable Camera Mount</a></li>
<li class="toctree-l2"><a class="reference internal" href="common-external-leds.html">LEDs (external)</a></li>
<li class="toctree-l2"><a class="reference internal" href="common-multiple-rx.html">Multiple Radio Control Receivers</a></li>
<li class="toctree-l2"><a class="reference internal" href="common-non-gps-navigation-landing-page.html">    Non-GPS navigation</a></li>
<li class="toctree-l2"><a class="reference internal" href="common-osd-boards-on-screen-display.html">On-Screen Display (OSD)</a></li>
<li class="toctree-l2"><a class="reference internal" href="common-optical-flow-sensors-landingpage.html">Optical Flow Sensor</a></li>
<li class="toctree-l2"><a class="reference internal" href="parachute.html">Parachute</a></li>
<li class="toctree-l2"><a class="reference internal" href="common-power-tether.html">Power Tether</a></li>
<li class="toctree-l2"><a class="reference internal" href="common-ppm-encoder.html">PPM Encoder</a></li>
<li class="toctree-l2"><a class="reference internal" href="precision-landing-with-irlock.html">Precision Landing and Loiter (IRLock)</a></li>
<li class="toctree-l2"><a class="reference internal" href="common-rc-systems.html">Radio Control Systems</a></li>
<li class="toctree-l2"><a class="reference internal" href="common-rangefinder-landingpage.html">Rangefinders (Sonar, Lidar, Depth Cameras)</a></li>
<li class="toctree-l2"><a class="reference internal" href="common-rssi-received-signal-strength-indication.html">Received Signal Strength Indication (RSSI)</a></li>
<li class="toctree-l2"><a class="reference internal" href="common-relay.html">Relay Switch</a></li>
<li class="toctree-l2"><a class="reference internal" href="common-rpm.html">RPM Sensor</a></li>
<li class="toctree-l2"><a class="reference internal" href="common-safety-switch-pixhawk.html">Safety Switch</a></li>
<li class="toctree-l2"><a class="reference internal" href="common-servo-landingpage.html">Servos</a></li>
<li class="toctree-l2"><a class="reference internal" href="common-telemetry-landingpage.html">Telemetry Radio</a></li>
<li class="toctree-l2"><a class="reference internal" href="common-uavcan-adapter-node.html">UAVCAN Adapter Node</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="common-uavcan-peripherals.html">UAVCAN Peripherals</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="common-avanon-adc.html">Avionics Anonymous Airspeed +Temp</a></li>
<li class="toctree-l3"><a class="reference internal" href="common-avanon-gnss-mag.html">Avionics Anonymous GNSS + Compass</a></li>
<li class="toctree-l3"><a class="reference internal" href="common-avanon-laserint.html">Avionics Anonymous GNSS/Mag: GNSS + Compass</a></li>
<li class="toctree-l3"><a class="reference internal" href="common-avanon-mag.html">Avionics Anonymous LIDAR Interface</a></li>
<li class="toctree-l3"><a class="reference internal" href="common-cuav-neo-v2-pro.html">CUAV Neo v2 Pro UAVCAN GPS</a></li>
<li class="toctree-l3"><a class="reference external" href="https://store.jdrones.com/uc4g_slcan_v11_p/uc4hcmb01.htm">jDrones UAVCAN Starter kit</a></li>
<li class="toctree-l3"><a class="reference external" href="https://store.jdrones.com/uc4g_geneneral_node_v21_p/uc4hgnode21.htm">jDrones UAVCAN General Node</a></li>
<li class="toctree-l3"><a class="reference internal" href="common-matek-m8q.html">Matek M8Q-CAN/UAVCAN GPS+Compass+Baro+Airspeed I2C port</a></li>
<li class="toctree-l3"><a class="reference internal" href="common-matek-uavcan-dlvr.html">Matek UAVCAN DLVR-10 Airspeed Sensor</a></li>
<li class="toctree-l3"><a class="reference external" href="https://store.mrobotics.io/category-s/109.htm">mRo GPS, GPS+Compass,RTK, and UAVCAN modules</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">mRo KitCAN CAN/UAVCAN Adapter Node+Compass+Baro</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#features">Features</a></li>
<li class="toctree-l4"><a class="reference internal" href="#pinouts">Pinouts</a></li>
<li class="toctree-l4"><a class="reference internal" href="#typical-system">Typical System</a></li>
<li class="toctree-l4"><a class="reference internal" href="#setup">Setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="#firmware">Firmware</a></li>
<li class="toctree-l4"><a class="reference internal" href="#where-to-buy">Where to Buy</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="common-mrobotics-location-one-gps.html">mRo Location One GPS GPS+Compass+LED+Safety Switch</a></li>
<li class="toctree-l3"><a class="reference internal" href="common-mro-uavcan-adapter-node.html">mRo UAVCAN Adapter Node</a></li>
<li class="toctree-l3"><a class="reference internal" href="common-uavcan-escs.html">UAVCAN ESCs</a></li>
<li class="toctree-l3"><a class="reference internal" href="common-zubax-gnss-positioning-module-gps-compass-and-barometer.html">Zubax GNSS 2: GNSS + Compass + Barometer</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="common-video-landingpage.html">Video (High Defintion)</a></li>
<li class="toctree-l2"><a class="reference internal" href="common-daiwa-winch.html">Winch</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="traditional-helicopters.html">Traditional Helicopters</a></li>
<li class="toctree-l1"><a class="reference internal" href="tricopter.html">Tricopter</a></li>
<li class="toctree-l1"><a class="reference internal" href="singlecopter-and-coaxcopter.html">SingleCopter and CoaxCopter</a></li>
<li class="toctree-l1"><a class="reference internal" href="heliquads.html">HeliQuads</a></li>
<li class="toctree-l1"><a class="reference internal" href="skyrocket.html">SkyRocket</a></li>
<li class="toctree-l1"><a class="reference internal" href="solo_arducopter_upgrade.html">Solo</a></li>
<li class="toctree-l1"><a class="reference internal" href="reference-frames.html">Reference Frames</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-use-cases-and-applications.html">Use-Cases and Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-antenna-tracking.html">Antenna Tracking</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-simulation.html">Simulation</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-master-features.html">Upcoming Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-user-alerts.html">User Alerts</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-appendix.html">Appendix</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-table-of-contents.html">Full Table of Contents</a></li>
</ul>

          
        
        
        <!-- add paypal and dronecode logos -->
                <div style="margin: auto; padding-left:20px; padding-right:20px; width=100%">

        <hr />
        <form style="margin:auto;" action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
        <input type="hidden" name="cmd" value="_s-xclick" />
        <input type="hidden" name="hosted_button_id" value="BBF28AFAD58B2" />
        <input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donate_LG.gif" border="0" name="submit" title="PayPal - The safer, easier way to pay online!" alt="Donate" />
        </form>
        <br>
        <a href="common-donation.html">Individual</a>
        <a href="common-partners.html">Partners</a>
        <a href="https://shop.ardupilot.org">SWAG Shop</a>

        <hr />
        </div>
        <!-- endadd paypal and dronecode logos -->
              
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">Copter</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



 
 
 
 
 
  
   
 

<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
          <li><a href="common-optional-hardware.html">Peripheral Hardware</a> &raquo;</li>
      
          <li><a href="common-uavcan-peripherals.html">UAVCAN Peripherals</a> &raquo;</li>
      
    <li>mRobotics KitCAN CAN/UAVCAN Adapter Node+Compass+Baro</li>
      <li class="wy-breadcrumbs-aside">
                
          
            <a href="https://github.com/ArduPilot/ardupilot_wiki/blob/master/common/source/docs/common-mro-kitcan.rst" class="fa fa-github"> Edit on GitHub</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="mrobotics-kitcan-can-uavcan-adapter-node-compass-baro">
<span id="common-mro-kitcan"></span><h1>mRobotics KitCAN CAN/UAVCAN Adapter Node+Compass+Baro<a class="headerlink" href="#mrobotics-kitcan-can-uavcan-adapter-node-compass-baro" title="Permalink to this headline">¶</a></h1>
<p>The next generation of integration from the mRo <a class="reference internal" href="common-mro-uavcan-adapter-node.html#common-mro-uavcan-adapter-node"><span class="std std-ref">CAN/UAVCAN Adapter Node</span></a>, the KitCAN integrates an ultra high precision magnetometer and barometer, in addition to providing an easy means of interfacing conventional GPS and Airspeed Sensors to UAVCAN, using a single CAN bus connection to the autopilot. It also includes an RGB LED and Arm Switch/Button.</p>
<img alt="../_images/mro-kitcan.png" src="../_images/mro-kitcan.png" />
<div class="section" id="features">
<h2>Features<a class="headerlink" href="#features" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>UAVCAN to GPS (UART interface)</li>
<li>UAVCAN to I2C Airspeed Sensor (MS5525 default configuration) and/or MAGNETOMETER (autodetect)</li>
<li><dl class="first docutils">
<dt>UAVCAN integrated peripherals:</dt>
<dd><ul class="first last">
<li>RM3100 High Precision Magnetometer</li>
<li>DPS310 Barometer</li>
<li>RGB LED</li>
<li>Safety Switch</li>
</ul>
</dd>
</dl>
</li>
<li>JST-GH Connectors</li>
<li>Mounting Holes: 14mm x 31.5mm, 3.3mm diameter</li>
</ul>
</div>
<div class="section" id="pinouts">
<h2>Pinouts<a class="headerlink" href="#pinouts" title="Permalink to this headline">¶</a></h2>
<p>GPS Port</p>
<table border="1" class="docutils">
<colgroup>
<col width="24%" />
<col width="36%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Pin</th>
<th class="head">Signal Name</th>
<th class="head">Voltage/Tolerance</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>1 (red)</td>
<td>VCC</td>
<td>5V</td>
</tr>
<tr class="row-odd"><td>2</td>
<td>TX (data out)</td>
<td>3.3V</td>
</tr>
<tr class="row-even"><td>3</td>
<td>RX (data in)</td>
<td>3.3V/5V</td>
</tr>
<tr class="row-odd"><td>4</td>
<td>I2C SDA</td>
<td>3.3V/5V</td>
</tr>
<tr class="row-even"><td>5</td>
<td>I2C SCL</td>
<td>3.3V/5V</td>
</tr>
<tr class="row-odd"><td>6</td>
<td>GND</td>
<td>–</td>
</tr>
</tbody>
</table>
<p>CAN Port</p>
<table border="1" class="docutils">
<colgroup>
<col width="24%" />
<col width="36%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Pin</th>
<th class="head">Signal Name</th>
<th class="head">Voltage/Tolerance</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>1 (red)</td>
<td>VCC</td>
<td>5V</td>
</tr>
<tr class="row-odd"><td>2</td>
<td>CAN_H</td>
<td>CAN bus</td>
</tr>
<tr class="row-even"><td>3</td>
<td>CAN_L</td>
<td>CAN bus</td>
</tr>
<tr class="row-odd"><td>4</td>
<td>GND</td>
<td>–</td>
</tr>
</tbody>
</table>
<p>I2C Port</p>
<table border="1" class="docutils">
<colgroup>
<col width="24%" />
<col width="36%" />
<col width="40%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Pin</th>
<th class="head">Signal Name</th>
<th class="head">Voltage/Tolerance</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>1 (red)</td>
<td>VCC</td>
<td>5V</td>
</tr>
<tr class="row-odd"><td>2</td>
<td>I2C SDA</td>
<td>3.3V/5V</td>
</tr>
<tr class="row-even"><td>3</td>
<td>I2C SCL</td>
<td>3.3V/5V</td>
</tr>
<tr class="row-odd"><td>4</td>
<td>GND</td>
<td>–</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">As delivered, the KitCAN will discover a MS5525 Airspeed sensor and/or any standard ArudPilot supported I2C Magnetometer that is connected to its I2C external bus</p>
</div>
</div>
<div class="section" id="typical-system">
<h2>Typical System<a class="headerlink" href="#typical-system" title="Permalink to this headline">¶</a></h2>
<p>In this case, the Kitcan is connected to an <a class="reference internal" href="common-pixracer-overview.html#common-pixracer-overview"><span class="std std-ref">mRo Pixracer</span></a>
autopilot via CAN and is providing the intefaces for a MS5525 airspeed sensor and a typical GPS/Compass combo, the <a class="reference external" href="https://store.mrobotics.io/product-p/mro10037.htm">mRo SAM GPS + IST8308 Mag</a></p>
<a class="reference internal image-reference" href="../_images/mro-kitcan-system.jpg"><img alt="../_images/mro-kitcan-system.jpg" src="../_images/mro-kitcan-system.jpg" style="width: 450px;" /></a>
</div>
<div class="section" id="setup">
<h2>Setup<a class="headerlink" href="#setup" title="Permalink to this headline">¶</a></h2>
<p>Verify the following parameters are set on your autopilot via your ground station.</p>
<ul class="simple">
<li><a class="reference internal" href="parameters.html#can-p1-driver"><span class="std std-ref">CAN_P1_DRIVER</span></a> = 1 (assuming its on the first CAN bus of the autopilot)</li>
<li><a class="reference internal" href="parameters.html#gps-type"><span class="std std-ref">GPS_TYPE</span></a> = 9 (UAVCAN) or if it will be the secondary GPS, set instead</li>
<li><a class="reference internal" href="parameters.html#gps-type2"><span class="std std-ref">GPS_TYPE2</span></a> = 9 (UAVCAN)</li>
<li>Reboot</li>
</ul>
<p>Make sure the UAVCAN compass driver is not disabled. (<a class="reference internal" href="parameters.html#compass-typemask"><span class="std std-ref">COMPASS_TYPEMASK</span></a> bit 9 should not be set).</p>
<p>If your controller has multiple compasses attached already, you may want to set the attached compass as a higher priority than others, if it has better precision or performance.</p>
<p>To enable the integrated I2C RGB LED set:</p>
<ul class="simple">
<li><a class="reference internal" href="parameters.html#ntf-led-types"><span class="std std-ref">NTF_LED_TYPES</span></a> bit 5 (UAVCAN) should be set in the autopilot.</li>
</ul>
<p>The integrated safety switch is automatically used, if the autopilot has enabled the use of safety switches via <a class="reference internal" href="parameters.html#brd-safetyenable"><span class="std std-ref">BRD_SAFETYENABLE</span></a> is “1” (default).</p>
<p>If you want to enable an attached I2C airspeed sensor, set:</p>
<ul class="simple">
<li><a class="reference external" href="https://ardupilot.org/rover/docs/parameters.html#arspd-type" title="(in Rover)"><span class="xref std std-ref">ARSPD_TYPE</span></a> = 8 (UAVCAN)</li>
</ul>
<p>If the attached sensor is not an MS5525 type with I2C address 0x76, then you must access your KitCAN’s CAN parameters to select Airspeed type being attached to the adapter. Using Mission Planner (or <a class="reference internal" href="common-uavcan-gui.html#common-uavcan-gui"><span class="std std-ref">UAVCAN GUI</span></a>), go to the menu SETUP/Optional Hardware/UAVCAN/SLCan Mode CAN1/Parameters. Once the CAN Adapters parameters appear, change the following (this changes them inside the UAVCAN adapter, NOT the autopilot, allowing the adapter to use the correct driver and convert the information to UAVCAN airspeed format):</p>
<ul class="simple">
<li><a class="reference external" href="https://ardupilot.org/rover/docs/parameters.html#arspd-type" title="(in Rover)"><span class="xref std std-ref">ARSPD_TYPE</span></a> = 4 (is default for an I2C-MS5525 with an 0x76 address which prevents conflict with the DSP310 integrated onboard with address 0x77). If another sensor is used, change the type to match that sensor.</li>
<li><a class="reference external" href="https://ardupilot.org/rover/docs/parameters.html#arspd-use" title="(in Rover)"><span class="xref std std-ref">ARSPD_USE</span></a> =  1</li>
<li><a class="reference external" href="https://ardupilot.org/rover/docs/parameters.html#arspd-bus" title="(in Rover)"><span class="xref std std-ref">ARSPD_BUS</span></a> =  0</li>
</ul>
<p>Then reboot.</p>
</div>
<div class="section" id="firmware">
<h2>Firmware<a class="headerlink" href="#firmware" title="Permalink to this headline">¶</a></h2>
<p>This device uses the “f303-M100025” firmware located at <a class="reference external" href="https://firmware.ardupilot.org/AP_Periph">https://firmware.ardupilot.org/AP_Periph</a>. See the <a class="reference internal" href="common-uavcan-setup-advanced.html#common-uavcan-setup-advanced"><span class="std std-ref">SLCAN section of UAVCAN advanced setup</span></a> for downloading instructions, if changes are desired or updates become available.</p>
</div>
<div class="section" id="where-to-buy">
<h2>Where to Buy<a class="headerlink" href="#where-to-buy" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference external" href="https://store.mrobotics.io/product-p/mro10025b.htm">mRobotics</a></li>
</ul>
</div>
</div>


            
            
             
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="common-mro-uavcan-adapter-node.html" class="btn btn-neutral float-right" title="mRobotics UAVCAN Adapter Node" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="common-matek-uavcan-dlvr.html" class="btn btn-neutral" title="Matek UAVCAN DLVR-10 Airspeed Sensor" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>
  
  
  Questions, issues, and suggestions about this page can be raised on the <a href="https://discuss.ardupilot.org">forums</a>. Issues and suggestions may be posted on the forums or the <a href="https://github.com/ArduPilot/ardupilot_wiki/issues/new?title=mRobotics KitCAN CAN/UAVCAN Adapter Node+Compass+Baro&amp;body=[mRobotics KitCAN CAN/UAVCAN Adapter Node+Compass+Baro](https://ardupilot.org/copter/docs/common-mro-kitcan.html)%20-%20Describe%20the%20issue/suggestion%20and%20improve%20the%20title.%20Please%20keep%20a%20link%20to%20the%20original%20article%20if%20relevant.&amp;labels=docs">Github Issue Tracker</a>.
  <hr/>

  <div role="contentinfo">
    <p>
    <a style="float:right;" rel="license" href="https://creativecommons.org/licenses/by-sa/3.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/3.0/88x31.png" /></a>
        &copy; Copyright 2020, ArduPilot Dev Team.

    </p>
  </div>
  


</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="../_static/language_data.js"></script>
      <script type="text/javascript" src="../_static/./useralerts.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
    <script type="text/javascript" src="../_static/js/menubar.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   


<!-- Google Analytics -->
<!-- This is official ArduPilot analytics account -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  _gaq.push(['_trackPageLoadTime']);
  _gaq.push(["_setSiteSpeedSampleRate", 0]);
  ga('create', 'UA-75650032-1', 'auto');
  ga('send', 'pageview');

</script>
<!-- Google Analytics -->

</body>
</html>