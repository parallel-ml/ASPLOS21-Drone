

<!-- Path to wiki directories, without backslash -->

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Omnibus F4 Nano V6 and V6.x &mdash; Copter  documentation</title>
  

  <!-- favicon -->
  
  
    <link rel="shortcut icon" href="../_static/favicon_copter.ico"/>
  
  <!-- favicon end -->
  
  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../_static/common_theme_override.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="Copter  documentation" href="../index.html"/>
        <link rel="up" title="Autopilot Hardware Options" href="common-autopilots.html"/>
        <link rel="next" title="Omnibus F7" href="common-omnibusf7.html"/>
        <link rel="prev" title="Omnibus F4 Pro (on-board current sensor) and Omnibus F4 AIO (no sensor onboard)" href="common-omnibusf4pro.html"/>  
  <script type="text/javascript">
  window.liveSettings = {
    api_key: "53747d3f35bf4cec9372629094cd9fe2",
    picker: "bottom-right",
    detectlang: true,
    autocollect: true,
    dynamic: false
  };
  </script>


  
  <script src="../_static/js/modernizr.min.js"></script>

</head>



<body class="wy-body-for-nav" role="document">

        
    <div id='cssmenu'>
        <ul>
           <li><a href='/ardupilot/index.html'>Home</a>
              <ul>
                 <li><a href='/copter/index.html'>Copter</a></li>
                 <li><a href='/plane/index.html'>Plane</a></li>
                 <li><a href='/rover/index.html'>Rover</a></li>
                 <li><a href='http://ardusub.com/'>Sub</a></li>
                 <li><a href='/antennatracker/index.html'>AntennaTracker</a></li>
                 <li><a href='/planner/index.html'>Mission Planner</a></li>
                 <li><a href='/planner2/index.html'>APM Planner 2</a></li>
                 <li><a href='/mavproxy/index.html'>MAVProxy</a></li>
                 <li><a href='/dev/docs/companion-computers.html'>Companion Computers</a></li>
                 <li><a href='/dev/index.html'>Developer</a></li>
              </ul>
           </li>
           
          
           
           <li><a href='https://firmware.ardupilot.org/'>Downloads</a>
              <ul>
                <li><a href='https://firmware.ardupilot.org/Tools/MissionPlanner/'>Mission Planner</a></li>
                <li><a href='https://firmware.ardupilot.org/Tools/APMPlanner/'>APM Planner 2</a></li>
                   <li><a title="Advanced User Tools" href="common-downloads_advanced_user_tools.html">Advanced User Tools</a></li>
                   <li><a title="Developer Tools" href="common-downloads_developer_tools.html">Developer Tools</a></li>
                   <li><a title="Firmware" href="common-downloads_firmware.html">Firmware</a></li>
                </ul>
           </li>
           
           <li><a href='https://discuss.ardupilot.org' />Community</a>
              <ul>
                 <li><a href='https://discuss.ardupilot.org/'>Support Forums</a></li>
                 <li><a href='https://www.facebook.com/groups/ArduPilot.org'>Facebook</a></li>
                 <li><a href='https://ardupilot.org/discord'>Developer Chat (Discord)</a></li>
                 <li><a href='https://ardupilot.org/discord'>Developer Voice (Discord)</a></li>
				 <li><a href='https://ardupilot.org/dev/docs/common-contact-us.html'>Contact us</a></li>
				 <li><a href='https://ardupilot.org/dev/index.html#getting-involved'>Getting involved</a></li>
                   <li><a title="Commercial Support" href="common-commercial-support.html">Commercial Support</a></li>
                   <li><a title="Dev Team" href="common-team.html">Development Team</a></li>
                   <li><a title="Training Centers" href="common-training-centers.html">UAS Training Centers</a></li>
              </ul>
           </li>
             <li><a title="Stores" href="common-stores.html">Stores</a></li>


             <li><a title="SWAG Shop" href="https://shop.ardupilot.org">SWAG</a></li>

           
           
                        <li><a title="About" href="../index.html">About</a>
               <ul>
                   <li><a title="Project News" href="project-news.html">News</a></li>
                   <li><a title="History of ArduPilot" href="common-history-of-ardupilot.html">History</a></li>
                   <li><a href='https://ardupilot.org/dev/docs/license-gplv3.html'>License</a></li>
                   <li><a href='https://ardupilot.org/dev/docs/trademark.html'>Trademark</a></li>
                   <li><a title="Acknowledgments" href="common-acknowledgments.html">Acknowledgments</a></li>
                   <li><a title="Wiki Editing Guide" href="common-wiki_editing_guide.html">Wiki Editing Guide</a></li>
               </ul>
             </li>
        </ul>
        
<style>
#jdlogo {
  top: 10px;
  right: 20px;
  position: absolute;
  color: #dddddd;
}
#jdlogo a:visited,
#jdlogo a:link {
  color: #9B59B6;
}
#jdlogo a:hover,
#jdlogo a:active {
  color: #CACACA;
}
</style>

</div>

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        

        
          <a href="../index.html" class="icon icon-home"> Copter
        

        
          
          <img src="../_static/ardupilot_logo.png" class="logo" />
        
        </a>

        
          
          
        

        
          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        
        
        
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introducing Copter</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="common-autopilots.html">AutoPilot Hardware Options</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="common-autopilots.html#open-hardware">Open hardware</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="common-autopilots.html#closed-hardware">Closed hardware</a><ul class="current">
<li class="toctree-l3"><a class="reference external" href="https://aerotenna.com/shop/ocpoc-zynq-mini/">Aerotenna Ocpoc-Zynq</a></li>
<li class="toctree-l3"><a class="reference internal" href="common-navio2-overview.html">Emlid NAVIO2 (Linux)</a></li>
<li class="toctree-l3"><a class="reference internal" href="common-furiousfpv-f35.html">Furious FPV F-35 Lightning and Wing FC-10</a></li>
<li class="toctree-l3"><a class="reference internal" href="common-durandal-overview.html">Holybro Durandal H7</a></li>
<li class="toctree-l3"><a class="reference internal" href="common-holybro-kakutef4.html">Holybro Kakute F4</a></li>
<li class="toctree-l3"><a class="reference internal" href="common-holybro-kakutef7aio.html">Holybro Kakute F7 AIO*</a></li>
<li class="toctree-l3"><a class="reference internal" href="common-holybro-kakutef7mini.html">Holybro Kakute F7 Mini* (only V1 and V2 are compatible)</a></li>
<li class="toctree-l3"><a class="reference external" href="https://github.com/ArduPilot/ardupilot/blob/master/libraries/AP_HAL_ChibiOS/hwdef/Pixhawk4/README.md">Holybro Pixhawk 4</a></li>
<li class="toctree-l3"><a class="reference external" href="https://github.com/ArduPilot/ardupilot/blob/master/libraries/AP_HAL_ChibiOS/hwdef/PH4-mini/README.md">Holybro Pixhawk 4 Mini</a></li>
<li class="toctree-l3"><a class="reference internal" href="common-matekf405-se.html">Mateksys F405-SE</a></li>
<li class="toctree-l3"><a class="reference internal" href="common-matekf405.html">Mateksys F405-STD and variants*</a></li>
<li class="toctree-l3"><a class="reference internal" href="common-matekf405-wing.html">Mateksys F405-Wing*</a></li>
<li class="toctree-l3"><a class="reference internal" href="common-matekf765-wing.html">Mateksys F765-Wing</a></li>
<li class="toctree-l3"><a class="reference internal" href="common-matekh743-wing.html">Mateksys H743-Wing</a></li>
<li class="toctree-l3"><a class="reference internal" href="common-mro-control-zero-F7.html">mRo ControlZero F7</a></li>
<li class="toctree-l3"><a class="reference internal" href="common-pixracer-pro.html">mRo Pixracer Pro (H7)</a></li>
<li class="toctree-l3"><a class="reference internal" href="common-mro-nexus.html">mRo Nexus</a></li>
<li class="toctree-l3"><a class="reference internal" href="common-omnibusf4pro.html">Omnibus F4 AIO/Pro*</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">OmnibusNanoV6</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#original-omnibus-f4-nano-v6">Original Omnibus F4 Nano V6</a></li>
<li class="toctree-l4"><a class="reference internal" href="#v6-x-hardware-revision">V6.x hardware revision</a></li>
<li class="toctree-l4"><a class="reference internal" href="#specifications">Specifications</a></li>
<li class="toctree-l4"><a class="reference internal" href="#where-to-buy">Where to Buy</a></li>
<li class="toctree-l4"><a class="reference internal" href="#default-uart-order">Default UART order</a></li>
<li class="toctree-l4"><a class="reference internal" href="#dshot-capability">Dshot capability</a></li>
<li class="toctree-l4"><a class="reference internal" href="#logging">Logging</a></li>
<li class="toctree-l4"><a class="reference internal" href="#versions">Versions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#board-connections">Board Connections</a></li>
<li class="toctree-l4"><a class="reference internal" href="#battery-monitoring">Battery monitoring</a></li>
<li class="toctree-l4"><a class="reference internal" href="#flashing-firmware">Flashing Firmware</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="common-omnibusf7.html">Omnibus F7V2*</a></li>
<li class="toctree-l3"><a class="reference internal" href="parrot-bebop-autopilot.html">Parrot Bebop Autopilot</a></li>
<li class="toctree-l3"><a class="reference internal" href="common-CHUCK-overview.html">Parrot C.H.U.C.K</a></li>
<li class="toctree-l3"><a class="reference internal" href="common-radiolink-minipix.html">RadioLink MiniPix</a></li>
<li class="toctree-l3"><a class="reference internal" href="common-qiotek-zealot.html">QioTek Zealot F427</a></li>
<li class="toctree-l3"><a class="reference internal" href="common-speedybeef4.html">SpeedyBee F4 (this board currently is non-verified)</a></li>
<li class="toctree-l3"><a class="reference external" href="http://www.virtualrobotix.it/index.php/en/shop/autopilot/vrbrain5-detail">VR Brain 5</a></li>
<li class="toctree-l3"><a class="reference external" href="http://www.virtualrobotix.it/index.php/en/shop/autopilot/vrbrainmicro51-detail">VR uBrain 5.1</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="common-autopilots.html#firmware-limitations">Firmware Limitations</a></li>
<li class="toctree-l2"><a class="reference internal" href="common-autopilots.html#discontinued-boards">Discontinued boards</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="initial-setup.html">First Time Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="flying-arducopter.html">First Flight</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-when-problems-arise.html">If A Problem Arises</a></li>
<li class="toctree-l1"><a class="reference internal" href="copter-flight-features.html">Flight Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-advanced-configuration.html">Advanced Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-mission-planning.html">Mission Planning</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-logs.html">Logs</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-optional-hardware.html">Peripheral Hardware</a></li>
<li class="toctree-l1"><a class="reference internal" href="traditional-helicopters.html">Traditional Helicopters</a></li>
<li class="toctree-l1"><a class="reference internal" href="tricopter.html">Tricopter</a></li>
<li class="toctree-l1"><a class="reference internal" href="singlecopter-and-coaxcopter.html">SingleCopter and CoaxCopter</a></li>
<li class="toctree-l1"><a class="reference internal" href="heliquads.html">HeliQuads</a></li>
<li class="toctree-l1"><a class="reference internal" href="skyrocket.html">SkyRocket</a></li>
<li class="toctree-l1"><a class="reference internal" href="solo_arducopter_upgrade.html">Solo</a></li>
<li class="toctree-l1"><a class="reference internal" href="reference-frames.html">Reference Frames</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-use-cases-and-applications.html">Use-Cases and Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-antenna-tracking.html">Antenna Tracking</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-simulation.html">Simulation</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-master-features.html">Upcoming Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-user-alerts.html">User Alerts</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-appendix.html">Appendix</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-table-of-contents.html">Full Table of Contents</a></li>
</ul>

          
        
        
        <!-- add paypal and dronecode logos -->
                <div style="margin: auto; padding-left:20px; padding-right:20px; width=100%">

        <hr />
        <form style="margin:auto;" action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
        <input type="hidden" name="cmd" value="_s-xclick" />
        <input type="hidden" name="hosted_button_id" value="BBF28AFAD58B2" />
        <input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donate_LG.gif" border="0" name="submit" title="PayPal - The safer, easier way to pay online!" alt="Donate" />
        </form>
        <br>
        <a href="common-donation.html">Individual</a>
        <a href="common-partners.html">Partners</a>
        <a href="https://shop.ardupilot.org">SWAG Shop</a>

        <hr />
        </div>
        <!-- endadd paypal and dronecode logos -->
              
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">Copter</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



 
 
 
 
 
  
   
 

<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
          <li><a href="common-autopilots.html">Autopilot Hardware Options</a> &raquo;</li>
      
    <li>Omnibus F4 Nano V6 and V6.x</li>
      <li class="wy-breadcrumbs-aside">
                
          
            <a href="https://github.com/ArduPilot/ardupilot_wiki/blob/master/common/source/docs/common-omnibusnanov6.rst" class="fa fa-github"> Edit on GitHub</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="omnibus-f4-nano-v6-and-v6-x">
<span id="common-omnibusnanov6"></span><h1>Omnibus F4 Nano V6 and V6.x<a class="headerlink" href="#omnibus-f4-nano-v6-and-v6-x" title="Permalink to this headline">¶</a></h1>
<div class="section" id="original-omnibus-f4-nano-v6">
<h2>Original Omnibus F4 Nano V6<a class="headerlink" href="#original-omnibus-f4-nano-v6" title="Permalink to this headline">¶</a></h2>
<a class="reference external image-reference" href="../_images/omnibusNanoV6.jpg"><img alt="../_images/omnibusNanoV6.jpg" src="../_images/omnibusNanoV6.jpg" style="width: 450px;" /></a>
</div>
<div class="section" id="v6-x-hardware-revision">
<h2>V6.x hardware revision<a class="headerlink" href="#v6-x-hardware-revision" title="Permalink to this headline">¶</a></h2>
<a class="reference external image-reference" href="../_images/OmnibusF4NanoV62.jpg"><img alt="../_images/OmnibusF4NanoV62.jpg" src="../_images/OmnibusF4NanoV62.jpg" style="width: 450px;" /></a>
<p>Above images and some content courtesy of <a class="reference external" href="https://store.myairbot.com/flight-controller/omnibus-f3-f4/omnibusf4nanov6.html">myairbot.com</a></p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Support for this board is available with Copter-3.6.0 (and higher)</p>
</div>
</div>
<div class="section" id="specifications">
<h2>Specifications<a class="headerlink" href="#specifications" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><strong>Processor</strong><ul>
<li>STM32F405 ARM</li>
</ul>
</li>
<li><strong>Sensors</strong><ul>
<li>InvenSense MPU6000 IMU (accel, gyro)</li>
<li>BMP280 barometer</li>
<li>Voltage sensor</li>
</ul>
</li>
<li><strong>Interfaces</strong><ul>
<li>2 full UARTS (RX and TX)</li>
<li>1 RX only UART for ESC telemetry</li>
<li>4 PWM outputs</li>
<li>RC input PPM, SBUS, CRSF etc.</li>
<li>I2C port for external compass</li>
<li>USB port</li>
<li>Built-in OSD</li>
<li>Onboard voltage sensor</li>
<li>additional ADC for current sensor on V6.x revision only. Current sensing on original V6 available using ESC telemetry.</li>
<li>Onboard winbond 25Q128 for dataflash-type logging</li>
</ul>
</li>
</ul>
</div>
<div class="section" id="where-to-buy">
<h2>Where to Buy<a class="headerlink" href="#where-to-buy" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>available from multiple retailers including <a class="reference external" href="https://store.myairbot.com/flight-controller/omnibus-f3-f4/omnibusf4nanov6.html">myairbot.com</a></li>
</ul>
</div>
<div class="section" id="default-uart-order">
<h2>Default UART order<a class="headerlink" href="#default-uart-order" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>SERIAL0 = console = USB</li>
<li>SERIAL1 = Telemetry1 = USART1 (only available on original V6 version)</li>
<li>SERIAL2 = Telemetry2 = USART4 (RX only for ESC telemetry)</li>
<li>SERIAL3 = GPS1 = USART6</li>
<li>SERIAL4 = USART3 available in <a class="reference internal" href="parameters.html#brd-alt-config"><span class="std std-ref">BRD_ALT_CONFIG</span></a> = 1 (firmware 4.1 or later)</li>
<li>SERIAL5 = not assigned</li>
<li>SERIAL6 = not assigned</li>
</ul>
<p>Serial protocols can be adjusted to personal preferences.</p>
</div>
<div class="section" id="dshot-capability">
<h2>Dshot capability<a class="headerlink" href="#dshot-capability" title="Permalink to this headline">¶</a></h2>
<p>All motor/servo outputs are Dshot and PWM capable. However, mixing Dshot and normal PWM operation for outputs is restricted into groups, ie. enabling Dshot for an output in a group requires that ALL outputs in that group be configured and used as Dshot, rather than PWM outputs. The output group that must be the same (same PWM rate or Dshot, when configured as a normal servo/motor output) is: 1/2 and 3/4.</p>
</div>
<div class="section" id="logging">
<h2>Logging<a class="headerlink" href="#logging" title="Permalink to this headline">¶</a></h2>
<p>Logging to on-board data flash is supported on this controller.</p>
</div>
<div class="section" id="versions">
<h2>Versions<a class="headerlink" href="#versions" title="Permalink to this headline">¶</a></h2>
<p>There’s various versions and clones of the OmnibusF4Nano. This refers to the original V6 and subsequent V6.x revision only with onboard BMP280 type barometer.</p>
</div>
<div class="section" id="board-connections">
<h2>Board Connections<a class="headerlink" href="#board-connections" title="Permalink to this headline">¶</a></h2>
<div class="section" id="original-v6-version">
<h3>Original V6 version<a class="headerlink" href="#original-v6-version" title="Permalink to this headline">¶</a></h3>
<a class="reference external image-reference" href="../_images/nanov6.jpg"><img alt="../_images/nanov6.jpg" src="../_images/nanov6.jpg" style="width: 450px;" /></a>
<p>Typical Arduplane system</p>
<p>GPS is attached to UART6</p>
<p>Telem is available at UART 1</p>
<p>The shared UART3/I2C pins are enabled for I2C operation in default <a class="reference internal" href="parameters.html#brd-alt-config"><span class="std std-ref">BRD_ALT_CONFIG</span></a> = 0 to allow external compass and / or digital airspeed sensor attachment.
Alternatively they can be set to UART operation as SERIAL4 in <a class="reference internal" href="parameters.html#brd-alt-config"><span class="std std-ref">BRD_ALT_CONFIG</span></a> = 1.</p>
<p>RC input is via pad marked LED on the board and is compatible all RX serial protocols supported by ArduPilot.
The Buzzer output pad has no functionality.</p>
</div>
<div class="section" id="v6-x-revision">
<h3>V6.x revision<a class="headerlink" href="#v6-x-revision" title="Permalink to this headline">¶</a></h3>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This board revision has the fixed inverter moved to USART1 RX pin, so only TX1 pin can be used (output only). 2 full UARTS + I2C is available in <a class="reference internal" href="parameters.html#brd-alt-config"><span class="std std-ref">BRD_ALT_CONFIG</span></a> = 1, using RX3 / TX3 pins as SERIAL4. In default <a class="reference internal" href="parameters.html#brd-alt-config"><span class="std std-ref">BRD_ALT_CONFIG</span></a> = 0, RX3 and TX3 pins will default to I2C SDA and SCL respectively. RCInput is on WSL2812 pad. I2C and SERIAL3 for GPS / mag combo is on PPM (=SCL), PB9 (=SDA), RX6 and TX6 pads. Make sure to leave solder jumpers for inverter setup diconnected.</p>
</div>
<a class="reference external image-reference" href="../_images/OmnibusF4NanoV62_pinout.jpg"><img alt="../_images/OmnibusF4NanoV62_pinout.jpg" src="../_images/OmnibusF4NanoV62_pinout.jpg" style="width: 450px;" /></a>
</div>
</div>
<div class="section" id="battery-monitoring">
<h2>Battery monitoring<a class="headerlink" href="#battery-monitoring" title="Permalink to this headline">¶</a></h2>
<div class="section" id="original-v6-revision">
<h3>Original V6 revision<a class="headerlink" href="#original-v6-revision" title="Permalink to this headline">¶</a></h3>
<p>Original V6 revision supports analog voltage monitoring on VBAT pin.</p>
<p>Set <a class="reference internal" href="parameters.html#batt-monitor"><span class="std std-ref">BATT_MONITOR</span></a> to 3 (= analog voltage only) and reboot.</p>
<p>Default pin values:</p>
<p><a class="reference internal" href="parameters.html#batt-volt-pin"><span class="std std-ref">BATT_VOLT_PIN</span></a> = 12</p>
<p><a class="reference internal" href="parameters.html#batt-volt-mult"><span class="std std-ref">BATT_VOLT_MULT</span></a> = 11</p>
<p>Optionally add voltage and / or current monitoring using BLHeli_32-capable ESCs. See instructions <a class="reference internal" href="common-dshot.html#common-dshot"><span class="std std-ref">here</span></a> for setting up BLHeli_32 ESC telemetry.</p>
</div>
<div class="section" id="id1">
<h3>V6.x revision<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<p>V6.x revision has an additional ADC available for external current sensor hardware / PDB connection in 4in1 socket / respective pads.</p>
<p><a class="reference internal" href="parameters.html#batt-curr-pin"><span class="std std-ref">BATT_CURR_PIN</span></a> = 11</p>
<p><a class="reference internal" href="parameters.html#batt-amp-pervlt"><span class="std std-ref">BATT_AMP_PERVLT</span></a> = 18.2</p>
<p>Set <a class="reference internal" href="parameters.html#batt-monitor"><span class="std std-ref">BATT_MONITOR</span></a> to 4 (= analog voltage and current) and reboot for full battery monitoring support.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Current pin defaults to pin 11 in ardupilot runtime. Alternatively, it can be used for analog RSSI input or connecting an analog airspeed sensor. Adjust <a class="reference internal" href="parameters.html#batt-amp-pervlt"><span class="std std-ref">BATT_AMP_PERVLT</span></a> default of 18.2 as required by the individual current sensor hardware used.</p>
</div>
</div>
</div>
<div class="section" id="flashing-firmware">
<h2>Flashing Firmware<a class="headerlink" href="#flashing-firmware" title="Permalink to this headline">¶</a></h2>
<p>Usually these boards are sold pre-flashed with Betaflight / iNav firmwares. In order to use ArduPilot, first time flashing requires both the bootloader and the firmware to be updated. Subsequent ArduPilot firmware updates do not require updating the bootloader again.</p>
<div class="section" id="first-time-flashing">
<h3>First time flashing<a class="headerlink" href="#first-time-flashing" title="Permalink to this headline">¶</a></h3>
<p>Follow the instructions <a class="reference external" href="https://ardupilot.org/plane/docs/common-loading-firmware-onto-chibios-only-boards.html">here</a> using the “arduXXX_with_bl.hex” file for the “OmnibusNanoV6” target.</p>
<p>When instructed to enter DFU mode, locate the DFU button / jumper pads and keep the button pressed / jumper pads shorted while connecting the board to your computer via USB. If done successfully, the red power LED should light solid while the blue activity LED should not light at all.</p>
<a class="reference external image-reference" href="../_images/OmnibusF4NanoV6_DFU.jpg"><img alt="../_images/OmnibusF4NanoV6_DFU.jpg" src="../_images/OmnibusF4NanoV6_DFU.jpg" /></a>
</div>
<div class="section" id="subsequent-firmware-updates">
<h3>Subsequent firmware updates<a class="headerlink" href="#subsequent-firmware-updates" title="Permalink to this headline">¶</a></h3>
<p>Follow the instructions <a class="reference external" href="https://ardupilot.org/plane/docs/common-loading-firmware-onto-pixhawk.html">here</a> but choose “Load Custom Firmware” and browse to the respective “arduXXX.apj” file for the “OmnibusNanoV6” target, or your own .apj file if building your own firmware.</p>
<a class="reference external image-reference" href="../_images/openpilot-revo-mini-load-firmware.png"><img alt="../_images/openpilot-revo-mini-load-firmware.png" src="../_images/openpilot-revo-mini-load-firmware.png" /></a>
</div>
<div class="section" id="compile-ardupilot">
<h3>Compile ArduPilot<a class="headerlink" href="#compile-ardupilot" title="Permalink to this headline">¶</a></h3>
<p>To build your own firmware, see the instructions on setting up a build envrionment and compiling the source code:
<a class="reference external" href="https://ardupilot.org/dev/docs/building-the-code.html">Building the Code</a></p>
</div>
</div>
</div>


            
            
             
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="common-omnibusf7.html" class="btn btn-neutral float-right" title="Omnibus F7" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="common-omnibusf4pro.html" class="btn btn-neutral" title="Omnibus F4 Pro (on-board current sensor) and Omnibus F4 AIO (no sensor onboard)" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>
  
  
  Questions, issues, and suggestions about this page can be raised on the <a href="https://discuss.ardupilot.org">forums</a>. Issues and suggestions may be posted on the forums or the <a href="https://github.com/ArduPilot/ardupilot_wiki/issues/new?title=Omnibus F4 Nano V6 and V6.x&amp;body=[Omnibus F4 Nano V6 and V6.x](https://ardupilot.org/copter/docs/common-omnibusnanov6.html)%20-%20Describe%20the%20issue/suggestion%20and%20improve%20the%20title.%20Please%20keep%20a%20link%20to%20the%20original%20article%20if%20relevant.&amp;labels=docs">Github Issue Tracker</a>.
  <hr/>

  <div role="contentinfo">
    <p>
    <a style="float:right;" rel="license" href="https://creativecommons.org/licenses/by-sa/3.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/3.0/88x31.png" /></a>
        &copy; Copyright 2020, ArduPilot Dev Team.

    </p>
  </div>
  


</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="../_static/language_data.js"></script>
      <script type="text/javascript" src="../_static/./useralerts.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
    <script type="text/javascript" src="../_static/js/menubar.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   


<!-- Google Analytics -->
<!-- This is official ArduPilot analytics account -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  _gaq.push(['_trackPageLoadTime']);
  _gaq.push(["_setSiteSpeedSampleRate", 0]);
  ga('create', 'UA-75650032-1', 'auto');
  ga('send', 'pageview');

</script>
<!-- Google Analytics -->

</body>
</html>