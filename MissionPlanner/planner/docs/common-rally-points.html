

<!-- Path to wiki directories, without backslash -->

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Rally Points &mdash; Mission Planner  documentation</title>
  

  <!-- favicon -->
  
  
    <link rel="shortcut icon" href="../_static/favicon_default.ico"/>
  
  <!-- favicon end -->
  
  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../_static/common_theme_override.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="Mission Planner  documentation" href="../index.html"/>
        <link rel="up" title="Mission Planning" href="common-mission-planning.html"/>
        <link rel="next" title="Geotagging Images with Mission Planner" href="common-geotagging-images-with-mission-planner.html"/>
        <link rel="prev" title="Camera Control in Auto Missions" href="common-camera-control-and-auto-missions-in-mission-planner.html"/>  
  <script type="text/javascript">
  window.liveSettings = {
    api_key: "53747d3f35bf4cec9372629094cd9fe2",
    picker: "bottom-right",
    detectlang: true,
    autocollect: true,
    dynamic: false
  };
  </script>


  
  <script src="../_static/js/modernizr.min.js"></script>

</head>



<body class="wy-body-for-nav" role="document">

        
    <div id='cssmenu'>
        <ul>
           <li><a href='/ardupilot/index.html'>Home</a>
              <ul>
                 <li><a href='/copter/index.html'>Copter</a></li>
                 <li><a href='/plane/index.html'>Plane</a></li>
                 <li><a href='/rover/index.html'>Rover</a></li>
                 <li><a href='http://ardusub.com/'>Sub</a></li>
                 <li><a href='/antennatracker/index.html'>AntennaTracker</a></li>
                 <li><a href='/planner/index.html'>Mission Planner</a></li>
                 <li><a href='/planner2/index.html'>APM Planner 2</a></li>
                 <li><a href='/mavproxy/index.html'>MAVProxy</a></li>
                 <li><a href='/dev/docs/companion-computers.html'>Companion Computers</a></li>
                 <li><a href='/dev/index.html'>Developer</a></li>
              </ul>
           </li>
           
          
           
           <li><a href='https://firmware.ardupilot.org/'>Downloads</a>
              <ul>
                <li><a href='https://firmware.ardupilot.org/Tools/MissionPlanner/'>Mission Planner</a></li>
                <li><a href='https://firmware.ardupilot.org/Tools/APMPlanner/'>APM Planner 2</a></li>
                   <li><a title="Advanced User Tools" href="common-downloads_advanced_user_tools.html">Advanced User Tools</a></li>
                   <li><a title="Developer Tools" href="common-downloads_developer_tools.html">Developer Tools</a></li>
                   <li><a title="Firmware" href="common-downloads_firmware.html">Firmware</a></li>
                </ul>
           </li>
           
           <li><a href='https://discuss.ardupilot.org' />Community</a>
              <ul>
                 <li><a href='https://discuss.ardupilot.org/'>Support Forums</a></li>
                 <li><a href='https://www.facebook.com/groups/ArduPilot.org'>Facebook</a></li>
                 <li><a href='https://ardupilot.org/discord'>Developer Chat (Discord)</a></li>
                 <li><a href='https://ardupilot.org/discord'>Developer Voice (Discord)</a></li>
				 <li><a href='https://ardupilot.org/dev/docs/common-contact-us.html'>Contact us</a></li>
				 <li><a href='https://ardupilot.org/dev/index.html#getting-involved'>Getting involved</a></li>
                   <li><a title="Commercial Support" href="common-commercial-support.html">Commercial Support</a></li>
                   <li><a title="Dev Team" href="common-team.html">Development Team</a></li>
              </ul>
           </li>
             <li><a title="Stores" href="common-stores.html">Stores</a></li>


             <li><a title="SWAG Shop" href="https://shop.ardupilot.org">SWAG</a></li>

           
           
                        <li><a title="About" href="../index.html">About</a>
               <ul>
                   <li><a title="History of ArduPilot" href="common-history-of-ardupilot.html">History</a></li>
                   <li><a href='https://ardupilot.org/dev/docs/license-gplv3.html'>License</a></li>
                   <li><a href='https://ardupilot.org/dev/docs/trademark.html'>Trademark</a></li>
                   <li><a title="Acknowledgments" href="common-acknowledgments.html">Acknowledgments</a></li>
                   <li><a title="Wiki Editing Guide" href="common-wiki_editing_guide.html">Wiki Editing Guide</a></li>
               </ul>
             </li>
        </ul>
        
<style>
#jdlogo {
  top: 10px;
  right: 20px;
  position: absolute;
  color: #dddddd;
}
#jdlogo a:visited,
#jdlogo a:link {
  color: #9B59B6;
}
#jdlogo a:hover,
#jdlogo a:active {
  color: #CACACA;
}
</style>

</div>

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        

        
          <a href="../index.html" class="icon icon-home"> Mission Planner
        

        
          
          <img src="../_static/ardupilot_logo.png" class="logo" />
        
        </a>

        
          
          
        

        
          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        
        
        
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="mission-planner-overview.html">Mission Planner Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="mission-planner-installation.html">Installing Mission Planner (Windows)</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-loading-firmware-onto-pixhawk.html">Loading Firmware onto boards with existing ArduPilot firmware</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-loading-firmware-onto-chibios-only-boards.html">Loading Firmware onto boards without existing ArduPilot firmware (first time only)</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-connect-mission-planner-autopilot.html">Connect Mission Planner to AutoPilot</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="common-mission-planning.html">Mission Planning</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="common-planning-a-mission-with-waypoints-and-events.html">Planning a Mission with Waypoints and Events</a></li>
<li class="toctree-l2"><a class="reference internal" href="common-mavlink-mission-command-messages-mav_cmd.html">Mission Command List</a></li>
<li class="toctree-l2"><a class="reference internal" href="common-camera-control-and-auto-missions-in-mission-planner.html">Camera Control in Auto Missions</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Rally Points</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="#setting-up-rally-points">Setting Up Rally Points</a></li>
<li class="toctree-l3"><a class="reference internal" href="#example-flight">Example Flight</a></li>
<li class="toctree-l3"><a class="reference internal" href="#appendix">Appendix</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="common-geotagging-images-with-mission-planner.html">Geotagging Images with Mission Planner</a></li>
<li class="toctree-l2"><a class="reference internal" href="common-mission-rewind.html">Rewind-on-resume</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="mission-planner-features.html">Mission Planner Features/Screens</a></li>
<li class="toctree-l1"><a class="reference internal" href="mission-planner-building.html">Mission Planner Building</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-appendix.html">Appendix</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-table-of-contents.html">Table of Contents</a></li>
</ul>

          
        
        
        <!-- add paypal and dronecode logos -->
                <div style="margin: auto; padding-left:20px; padding-right:20px; width=100%">

        <hr />
        <form style="margin:auto;" action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
        <input type="hidden" name="cmd" value="_s-xclick" />
        <input type="hidden" name="hosted_button_id" value="BBF28AFAD58B2" />
        <input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donate_LG.gif" border="0" name="submit" title="PayPal - The safer, easier way to pay online!" alt="Donate" />
        </form>
        <br>
        <a href="common-donation.html">Individual</a>
        <a href="common-partners.html">Partners</a>
        <a href="https://shop.ardupilot.org">SWAG Shop</a>

        <hr />
        </div>
        <!-- endadd paypal and dronecode logos -->
              
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">Mission Planner</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



 
 
 
 
 
  
   
 

<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
          <li><a href="common-mission-planning.html">Mission Planning</a> &raquo;</li>
      
    <li>Rally Points</li>
      <li class="wy-breadcrumbs-aside">
                
          
            <a href="https://github.com/ArduPilot/ardupilot_wiki/blob/master/common/source/docs/common-rally-points.rst" class="fa fa-github"> Edit on GitHub</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="rally-points">
<span id="common-rally-points"></span><h1>Rally Points<a class="headerlink" href="#rally-points" title="Permalink to this headline">¶</a></h1>
<div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>Ordinarily when a plane or copter enters <a class="reference external" href="https://ardupilot.org/plane/docs/rtl-mode.html#rtl-mode" title="(in Plane)"><span class="xref std std-ref">Return to Launch (RTL)</span></a> mode (typically
triggered by an
autopilot <a class="reference external" href="https://ardupilot.org/plane/docs/apms-failsafe-function.html#apms-failsafe-function" title="(in Plane)"><span class="xref std std-ref">failsafe</span></a>),
the default behaviour is to return to the <a class="reference internal" href="common-planning-a-mission-with-waypoints-and-events.html#common-planning-a-mission-with-waypoints-and-events-setting-the-home-position"><span class="std std-ref">Home point</span></a>,
but there are often cases when that can be undesirable. For example it
may be an area full of people or property and a system running in RTL
mode may very likely be in a state that merits extreme caution!  It is
also possible that the flight plan is large enough that should the
aircraft enter RTL mode it is undesirable to traverse all the way back
to the point of takeoff.</p>
<p>For this reason we now support the creation of multiple Rally Points.
Should an aircraft enter RTL and Rally Points have been defined then it
will proceed to the closest Rally Point, rather than proceeding to the
Home position. Plane will then loiter at that location, and Copter will
perform an automated landing there.</p>
<div class="figure" id="id1">
<a class="reference external image-reference" href="../_images/mp_flight_plan_with_three_rally_points.jpg"><img alt="../_images/mp_flight_plan_with_three_rally_points.jpg" src="../_images/mp_flight_plan_with_three_rally_points.jpg" /></a>
<p class="caption"><span class="caption-text">A flight plan with Rally Points. Rally Points are denoted with Purpleplace markers.
Mousing over a Rally Point will give its loiter altitude(as in the middle point above).</span></p>
</div>
</div>
<div class="section" id="setting-up-rally-points">
<h2>Setting Up Rally Points<a class="headerlink" href="#setting-up-rally-points" title="Permalink to this headline">¶</a></h2>
<p>The following steps are for specifying Rally Points in Mission Planner:</p>
<ol class="arabic">
<li><p class="first">Rally Point latitude and longitude.To set a Rally Point’s location,
right click on the Flight Plan map, and select Rally Points &gt; Set
Rally Point on the resulting pop-up menu (note that this ONLY work in
the Flight Plan screen, not the Flight Data screen):</p>
<a class="reference external image-reference" href="../_images/mp_rally_point_dialog.jpg"><img alt="../_images/mp_rally_point_dialog.jpg" src="../_images/mp_rally_point_dialog.jpg" /></a>
</li>
<li><p class="first">The Rally loiter altitudes need to be specified (note that the
default altitude for Rally Points is the default waypoint altitude
value and is relative to the home location):</p>
<a class="reference external image-reference" href="../_images/mp_rally_altitude_dialog.jpg"><img alt="../_images/mp_rally_altitude_dialog.jpg" src="../_images/mp_rally_altitude_dialog.jpg" /></a>
<a class="reference external image-reference" href="../_images/defaultAltCircled1.png"><img alt="../_images/defaultAltCircled1.png" src="../_images/defaultAltCircled1.png" /></a>
</li>
<li><p class="first">Repeat for all desired Rally points!</p>
</li>
<li><p class="first">Upload to the vehicle by selecting Rally Points &gt; Upload from the
right-click popup menu</p>
</li>
</ol>
<p>The following should be considered when using Rally Points:</p>
<ol class="arabic simple">
<li>If using a <a class="reference external" href="https://ardupilot.org/plane/docs/geofencing.html#geofencing" title="(in Plane)"><span class="xref std std-ref">geofence</span></a>:
its HIGHLY recommended the Rally Points you intend to use at your event
are inside the geofence.</li>
<li>Make sure Rally Point altitudes are high enough to clear terrain and
buildings.</li>
<li>Because of the limited flash memory size on the APM2.x hardware the
number of Rally Points is restricted to 10 on Plane and 6 on Copter
– this limit may be expanded on other platforms such as Pixhawk in the future.</li>
<li>On Plane, loiter radius for a Rally Point is the same as all other
loiter points; determined by the <a class="reference external" href="https://ardupilot.org/plane/docs/parameters.html#wp-loiter-rad" title="(in Plane)"><span class="xref std std-ref">WP_LOITER_RAD</span></a>
parameter.</li>
<li>The <a class="reference external" href="https://ardupilot.org/plane/docs/parameters.html#alt-hold-rtl" title="(in Plane)"><span class="xref std std-ref">ALT_HOLD_RTL</span></a>
<a class="reference external" href="https://ardupilot.org/copter/docs/parameters.html#rtl-alt" title="(in Copter)"><span class="xref std std-ref">RTL_ALT</span></a> parameters are NOT used with Rally Points!
The aircraft will transit to the Rally Point at the altitude
specified when adding that point.</li>
</ol>
<p>The following MAVLink parameters control Rally Point behavior:</p>
<ol class="arabic simple">
<li><a class="reference external" href="https://ardupilot.org/plane/docs/parameters.html#rally-limit-km" title="(in Plane)"><span class="xref std std-ref">RALLY_LIMIT_KM</span></a>
is the maximum distance a Rally Point may be from the aircraft to be
considered for an RTL event.  If all Rally Points are greater than
this distance from the aircraft, then the Home location is used for
RTL events (at altitude <a class="reference external" href="https://ardupilot.org/plane/docs/parameters.html#alt-hold-rtl" title="(in Plane)"><span class="xref std std-ref">ALT_HOLD_RTL</span></a>)
This parameter is to prevent fly offs if Rally Points have been specified for multiple
flying fields. This parameter can be disabled if set to 0.</li>
<li><a class="reference external" href="https://ardupilot.org/rover/docs/parameters.html#rally-incl-home" title="(in Rover)"><span class="xref std std-ref">RALLY_INCL_HOME</span></a> allows Home to be included in the RALLY points, allowing it to return to home if closer than any RALLY point.</li>
<li><a class="reference external" href="https://ardupilot.org/plane/docs/parameters.html#rally-total" title="(in Plane)"><span class="xref std std-ref">RALLY_TOTAL</span></a> is
the number of Rally Points currently specified. This parameter will
be set for you by your ground control station (e.g., Mission Planner)
when you add and remove Rally Points.  <strong>IT IS HIGHLY UNLIKELY YOU
WANT TO SET THIS PARAMETER MANUALLY AND IT IS PROBABLY UNSAFE TO DO
SO</strong>.  RALLY_TOTAL should be 0 if you have specified no Rally Points
and in this case the Home location will be used for RTL events.</li>
</ol>
</div>
<div class="section" id="example-flight">
<h2>Example Flight<a class="headerlink" href="#example-flight" title="Permalink to this headline">¶</a></h2>
<div class="figure" id="id2">
<a class="reference external image-reference" href="../_images/mp_rally_demo.jpg"><img alt="../_images/mp_rally_demo.jpg" src="../_images/mp_rally_demo.jpg" /></a>
<p class="caption"><span class="caption-text">Flight in which RTL was commanded nearwaypoint. Plane began loitering about the southernmost RallyPoint.</span></p>
</div>
<div class="figure">
<a class="reference external image-reference" href="../_images/mp_rally_point_dialog.jpg"><img alt="../_images/mp_rally_point_dialog.jpg" src="../_images/mp_rally_point_dialog.jpg" /></a>
</div>
</div>
<div class="section" id="appendix">
<h2>Appendix<a class="headerlink" href="#appendix" title="Permalink to this headline">¶</a></h2>
<p>The RALLY fields present in a rally point file are as follows:</p>
<ul class="simple">
<li>Lat: Latitude of Rally Point</li>
<li>Lon: Longitude of Rally Point</li>
<li>Alt: AGL altitude of Rally Point as referenced from the point where the copter/plane got a GPS lock.</li>
<li>Break Altitude: Specific to NPS fixed wings; the point at which to break out of a loiter and fly toward the landing waypoint. Also in AGL.</li>
<li>Desired Heading: Whether to verify that the plane is going the correct heading before breaking out of the loiter (see break altitude).</li>
<li><dl class="first docutils">
<dt>Flags:</dt>
<dd><ul class="first last">
<li>1 = FAVORABLE_WIND. Flag set when requiring favorable winds for landing.  We never got around to implementing this at the Naval Postgraduate School, but basically whether or not we are required to land with the aircraft facing into the wind.</li>
<li>2 = LAND_IMMEDIATELY. Flag set when plane is to immediately descend to break altitude and land without GCS intervention.  Flag not set when plane is to loiter at Rally point until commanded to land.</li>
</ul>
</dd>
</dl>
</li>
</ul>
</div>
</div>


            
            
             
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="common-geotagging-images-with-mission-planner.html" class="btn btn-neutral float-right" title="Geotagging Images with Mission Planner" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="common-camera-control-and-auto-missions-in-mission-planner.html" class="btn btn-neutral" title="Camera Control in Auto Missions" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>
  
  
  Questions, issues, and suggestions about this page can be raised on the <a href="https://discuss.ardupilot.org">forums</a>. Issues and suggestions may be posted on the forums or the <a href="https://github.com/ArduPilot/ardupilot_wiki/issues/new?title=Rally Points&amp;body=[Rally Points](https://ardupilot.org/planner/docs/common-rally-points.html)%20-%20Describe%20the%20issue/suggestion%20and%20improve%20the%20title.%20Please%20keep%20a%20link%20to%20the%20original%20article%20if%20relevant.&amp;labels=docs">Github Issue Tracker</a>.
  <hr/>

  <div role="contentinfo">
    <p>
    <a style="float:right;" rel="license" href="https://creativecommons.org/licenses/by-sa/3.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/3.0/88x31.png" /></a>
        &copy; Copyright 2020, ArduPilot Dev Team.

    </p>
  </div>
  


</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="../_static/language_data.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
    <script type="text/javascript" src="../_static/js/menubar.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   


<!-- Google Analytics -->
<!-- This is official ArduPilot analytics account -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  _gaq.push(['_trackPageLoadTime']);
  _gaq.push(["_setSiteSpeedSampleRate", 0]);
  ga('create', 'UA-75650032-1', 'auto');
  ga('send', 'pageview');

</script>
<!-- Google Analytics -->

</body>
</html>