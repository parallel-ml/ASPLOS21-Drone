

<!-- Path to wiki directories, without backslash -->

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Camera Control in Auto Missions &mdash; Mission Planner  documentation</title>
  

  <!-- favicon -->
  
  
    <link rel="shortcut icon" href="../_static/favicon_default.ico"/>
  
  <!-- favicon end -->
  
  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="../_static/common_theme_override.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="Mission Planner  documentation" href="../index.html"/>
        <link rel="up" title="Mission Planning" href="common-mission-planning.html"/>
        <link rel="next" title="Rally Points" href="common-rally-points.html"/>
        <link rel="prev" title="Mission Commands" href="common-mavlink-mission-command-messages-mav_cmd.html"/>  
  <script type="text/javascript">
  window.liveSettings = {
    api_key: "53747d3f35bf4cec9372629094cd9fe2",
    picker: "bottom-right",
    detectlang: true,
    autocollect: true,
    dynamic: false
  };
  </script>


  
  <script src="../_static/js/modernizr.min.js"></script>

</head>



<body class="wy-body-for-nav" role="document">

        
    <div id='cssmenu'>
        <ul>
           <li><a href='/ardupilot/index.html'>Home</a>
              <ul>
                 <li><a href='/copter/index.html'>Copter</a></li>
                 <li><a href='/plane/index.html'>Plane</a></li>
                 <li><a href='/rover/index.html'>Rover</a></li>
                 <li><a href='http://ardusub.com/'>Sub</a></li>
                 <li><a href='/antennatracker/index.html'>AntennaTracker</a></li>
                 <li><a href='/planner/index.html'>Mission Planner</a></li>
                 <li><a href='/planner2/index.html'>APM Planner 2</a></li>
                 <li><a href='/mavproxy/index.html'>MAVProxy</a></li>
                 <li><a href='/dev/docs/companion-computers.html'>Companion Computers</a></li>
                 <li><a href='/dev/index.html'>Developer</a></li>
              </ul>
           </li>
           
          
           
           <li><a href='https://firmware.ardupilot.org/'>Downloads</a>
              <ul>
                <li><a href='https://firmware.ardupilot.org/Tools/MissionPlanner/'>Mission Planner</a></li>
                <li><a href='https://firmware.ardupilot.org/Tools/APMPlanner/'>APM Planner 2</a></li>
                   <li><a title="Advanced User Tools" href="common-downloads_advanced_user_tools.html">Advanced User Tools</a></li>
                   <li><a title="Developer Tools" href="common-downloads_developer_tools.html">Developer Tools</a></li>
                   <li><a title="Firmware" href="common-downloads_firmware.html">Firmware</a></li>
                </ul>
           </li>
           
           <li><a href='https://discuss.ardupilot.org' />Community</a>
              <ul>
                 <li><a href='https://discuss.ardupilot.org/'>Support Forums</a></li>
                 <li><a href='https://www.facebook.com/groups/ArduPilot.org'>Facebook</a></li>
                 <li><a href='https://ardupilot.org/discord'>Developer Chat (Discord)</a></li>
                 <li><a href='https://ardupilot.org/discord'>Developer Voice (Discord)</a></li>
				 <li><a href='https://ardupilot.org/dev/docs/common-contact-us.html'>Contact us</a></li>
				 <li><a href='https://ardupilot.org/dev/index.html#getting-involved'>Getting involved</a></li>
                   <li><a title="Commercial Support" href="common-commercial-support.html">Commercial Support</a></li>
                   <li><a title="Dev Team" href="common-team.html">Development Team</a></li>
              </ul>
           </li>
             <li><a title="Stores" href="common-stores.html">Stores</a></li>


             <li><a title="SWAG Shop" href="https://shop.ardupilot.org">SWAG</a></li>

           
           
                        <li><a title="About" href="../index.html">About</a>
               <ul>
                   <li><a title="History of ArduPilot" href="common-history-of-ardupilot.html">History</a></li>
                   <li><a href='https://ardupilot.org/dev/docs/license-gplv3.html'>License</a></li>
                   <li><a href='https://ardupilot.org/dev/docs/trademark.html'>Trademark</a></li>
                   <li><a title="Acknowledgments" href="common-acknowledgments.html">Acknowledgments</a></li>
                   <li><a title="Wiki Editing Guide" href="common-wiki_editing_guide.html">Wiki Editing Guide</a></li>
               </ul>
             </li>
        </ul>
        
<style>
#jdlogo {
  top: 10px;
  right: 20px;
  position: absolute;
  color: #dddddd;
}
#jdlogo a:visited,
#jdlogo a:link {
  color: #9B59B6;
}
#jdlogo a:hover,
#jdlogo a:active {
  color: #CACACA;
}
</style>

</div>

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        

        
          <a href="../index.html" class="icon icon-home"> Mission Planner
        

        
          
          <img src="../_static/ardupilot_logo.png" class="logo" />
        
        </a>

        
          
          
        

        
          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        
        
        
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="mission-planner-overview.html">Mission Planner Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="mission-planner-installation.html">Installing Mission Planner (Windows)</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-loading-firmware-onto-pixhawk.html">Loading Firmware onto boards with existing ArduPilot firmware</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-loading-firmware-onto-chibios-only-boards.html">Loading Firmware onto boards without existing ArduPilot firmware (first time only)</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-connect-mission-planner-autopilot.html">Connect Mission Planner to AutoPilot</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="common-mission-planning.html">Mission Planning</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="common-planning-a-mission-with-waypoints-and-events.html">Planning a Mission with Waypoints and Events</a></li>
<li class="toctree-l2"><a class="reference internal" href="common-mavlink-mission-command-messages-mav_cmd.html">Mission Command List</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Camera Control in Auto Missions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#overview">Overview</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#camera-commands">Camera commands</a></li>
<li class="toctree-l4"><a class="reference internal" href="#camera-gimbal-commands">Camera gimbal commands</a></li>
<li class="toctree-l4"><a class="reference internal" href="#servo-and-relay-commands">Servo and Relay commands</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#auto-mission-types">Auto-mission types</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#survey-grid-example">Survey (Grid) Example</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#creating-composite-images">Creating composite images</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="common-rally-points.html">Rally Points</a></li>
<li class="toctree-l2"><a class="reference internal" href="common-geotagging-images-with-mission-planner.html">Geotagging Images with Mission Planner</a></li>
<li class="toctree-l2"><a class="reference internal" href="common-mission-rewind.html">Rewind-on-resume</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="mission-planner-features.html">Mission Planner Features/Screens</a></li>
<li class="toctree-l1"><a class="reference internal" href="mission-planner-building.html">Mission Planner Building</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-appendix.html">Appendix</a></li>
<li class="toctree-l1"><a class="reference internal" href="common-table-of-contents.html">Table of Contents</a></li>
</ul>

          
        
        
        <!-- add paypal and dronecode logos -->
                <div style="margin: auto; padding-left:20px; padding-right:20px; width=100%">

        <hr />
        <form style="margin:auto;" action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
        <input type="hidden" name="cmd" value="_s-xclick" />
        <input type="hidden" name="hosted_button_id" value="BBF28AFAD58B2" />
        <input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donate_LG.gif" border="0" name="submit" title="PayPal - The safer, easier way to pay online!" alt="Donate" />
        </form>
        <br>
        <a href="common-donation.html">Individual</a>
        <a href="common-partners.html">Partners</a>
        <a href="https://shop.ardupilot.org">SWAG Shop</a>

        <hr />
        </div>
        <!-- endadd paypal and dronecode logos -->
              
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../index.html">Mission Planner</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



 
 
 
 
 
  
   
 

<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../index.html">Docs</a> &raquo;</li>
      
          <li><a href="common-mission-planning.html">Mission Planning</a> &raquo;</li>
      
    <li>Camera Control in Auto Missions</li>
      <li class="wy-breadcrumbs-aside">
                
          
            <a href="https://github.com/ArduPilot/ardupilot_wiki/blob/master/common/source/docs/common-camera-control-and-auto-missions-in-mission-planner.rst" class="fa fa-github"> Edit on GitHub</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="camera-control-in-auto-missions">
<span id="common-camera-control-and-auto-missions-in-mission-planner"></span><h1>Camera Control in Auto Missions<a class="headerlink" href="#camera-control-in-auto-missions" title="Permalink to this headline">¶</a></h1>
<p>This article describes ArduPilot’s camera and gimbal commands, and
explains how these can be used in Mission Planner to define camera
survey missions.  These instructions assume a <a class="reference external" href="https://ardupilot.org/rover/docs/common-cameras-and-gimbals.html#common-cameras-and-gimbals" title="(in Rover)"><span class="xref std std-ref">camera trigger and gimbal have already been connected and configured</span></a>.</p>
<div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>Planning a camera mission is almost exactly the same as <a class="reference internal" href="common-planning-a-mission-with-waypoints-and-events.html#common-planning-a-mission-with-waypoints-and-events"><span class="std std-ref">planning any other mission with waypoints and events</span></a>. The
only difference is that in a camera mission you specify commands to
trigger the camera shutter at waypoints or at regular intervals as the
vehicle moves. If the camera is mounted on a gimbal, you can also set
the gimbal orientation, or make it track a particular point of interest.</p>
<p>For simple missions you can manually specify the required waypoints and
camera commands. For more complex paths and grid surveys Mission Planner
makes things easy by providing tools to automatically generating the
required mission for arbitrary regions.</p>
<div class="section" id="camera-commands">
<h3>Camera commands<a class="headerlink" href="#camera-commands" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">DO_SET_CAM_TRIGG_DIST</span></code> — Trigger the camera shutter at regular
intervals. This is most commonly used for supporting area surveys.</li>
<li><code class="docutils literal notranslate"><span class="pre">DO_DIGICAM_CONTROL</span></code> — Trigger the camera shutter once every time
this command is called.</li>
</ul>
</div>
<div class="section" id="camera-gimbal-commands">
<h3>Camera gimbal commands<a class="headerlink" href="#camera-gimbal-commands" title="Permalink to this headline">¶</a></h3>
<p>If a camera gimbal is used, you can set the camera position (yaw, tilt,
roll) or aim it at a specific region of interest (ROI):</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">DO_SET_ROI</span></code> — Target the camera towards a specified region of
interest (position, including altitude).</li>
<li><code class="docutils literal notranslate"><span class="pre">DO_MOUNT_CONTROL</span></code> — Position the gimbal with the specified roll,
pitch and yaw.</li>
</ul>
</div>
<div class="section" id="servo-and-relay-commands">
<h3>Servo and Relay commands<a class="headerlink" href="#servo-and-relay-commands" title="Permalink to this headline">¶</a></h3>
<p>Servos and relay outputs can be connected to hardware and activated
during missions using the <code class="docutils literal notranslate"><span class="pre">DO_SET_SERVO</span></code> or <code class="docutils literal notranslate"><span class="pre">DO_SET_RELAY</span></code> commands,
respectively.</p>
<p>One possible use for these outputs is to control camera features other
than the shutter (for example, to set the zoom level or switch capture
from still to video).</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The method used to connect your servo or relay to the camera, and
what features are accessible, will depend the camera and its supported
remote-control mechanism(s) (see the <a class="reference external" href="https://ardupilot.org/rover/docs/common-cameras-and-gimbals.html#common-cameras-and-gimbals" title="(in Rover)"><span class="xref std std-ref">Camera Control and GeoTagging section of the Cameras and Gimbals wiki page</span></a>)</p>
</div>
</div>
</div>
<div class="section" id="auto-mission-types">
<h2>Auto-mission types<a class="headerlink" href="#auto-mission-types" title="Permalink to this headline">¶</a></h2>
<p>Mission Planner supports the following <em>Auto Waypoint</em> options. To
access these open the <em>Flight Plan</em> screen, right-click on the map and
select the option from under the <em>Auto WP</em> menu:</p>
<ul class="simple">
<li><strong>Create WP Circle</strong> — Create a circle of waypoints.</li>
<li><strong>Area</strong> — Displays the area of the current polygon (if defined).</li>
<li><strong>Create Spline Circle</strong> — A circle where the altitude of waypoints
follows a rising spline (relevant to flying vehicles).</li>
<li><strong>Survey (Grid)</strong> — Automatically create waypoints and camera control
commands to survey a specified polygon.</li>
<li><strong>Survey (Gridv2)</strong> — <em>Under construction!</em> This is a simpler grid
control for creating a rectangular survey area.</li>
<li><strong>SimpleGrid</strong> — A simple auto-created survey grid. No camera control
is defined, so this must be added separately.</li>
</ul>
<p>The following sections include community-provided examples of automatic
survey missions.</p>
<div class="section" id="survey-grid-example">
<span id="common-camera-control-and-auto-missions-in-mission-planner-survey-grid-example"></span><h3>Survey (Grid) Example<a class="headerlink" href="#survey-grid-example" title="Permalink to this headline">¶</a></h3>
<p>Mission Planner’s <em>Survey (Grid)</em> option automatically defines the
waypoints required to cover an arbitrary polygon, and sets
<code class="docutils literal notranslate"><span class="pre">DO_SET_CAM_TRIGG_DIST</span></code> on relevant waypoints to ensure that pictures
are captured at regular intervals in the vehicle’s path.</p>
<ul>
<li><p class="first">Open the <em>Flight Plan</em> tab</p>
</li>
<li><p class="first"><strong>Right click</strong> on the map, and select <strong>Draw Polygon | Add PolyGon
Point</strong>. Create points surrounding the area to be photographed.</p>
</li>
<li><p class="first"><strong>Right click</strong> on the map and select <strong>Auto WP | Survey(Grid)</strong>:</p>
<p><a class="reference external" href="../_images/surveyexample.jpg"><img alt="surveyexample" src="../_images/surveyexample.jpg" /></a></p>
</li>
<li><p class="first"><em>Mission Planner</em> will then display a configuration screen where you
can define the camera make/model and other parameters including teh
overlap you want between pictures, lens size, etc.
<code class="docutils literal notranslate"><span class="pre">DO_SET_CAM_TRIGG_DIST</span></code> is automatically calculated based on this
information!</p>
<p><a class="reference external" href="../_images/surveyexample2.jpg"><img alt="surveyexample2" src="../_images/surveyexample2.jpg" /></a></p>
</li>
</ul>
<p>After clicking on <strong>Accept</strong>, <em>Mission Planner</em> will generate a list of
waypoints covering the specified area, and including take-off and
landing waypoints. The <code class="docutils literal notranslate"><span class="pre">DO_SET_CAM_TRIGG_DIST</span></code> command is called to
set the distance in meters between two camera triggers during your
mission. At the end of the mission <code class="docutils literal notranslate"><span class="pre">DO_SET_CAM_TRIGG_DIST</span></code> is called
again to set the parameter back to zero (stops capturing images).</p>
<p>The final mission with waypoints and camera triggers looks like this:</p>
<a class="reference external image-reference" href="../_images/mp_camera_control_mission.jpg"><img alt="../_images/mp_camera_control_mission.jpg" src="../_images/mp_camera_control_mission.jpg" style="width: 450px;" /></a>
<p>The test mission shown above was run. It generated 15 images, which have
been stitched together. A thumbnail of the composite image is shown
below (because the full size image is too large at about 107 MBytes).</p>
<a class="reference external image-reference" href="../_images/Mortierthumbnail2.jpg"><img alt="../_images/Mortierthumbnail2.jpg" src="../_images/Mortierthumbnail2.jpg" style="width: 450px;" /></a>
</div>
</div>
<div class="section" id="creating-composite-images">
<h2>Creating composite images<a class="headerlink" href="#creating-composite-images" title="Permalink to this headline">¶</a></h2>
<p>There are a number of good free and paid tools for creating composite
images:</p>
<ul class="simple">
<li><a class="reference external" href="https://www.pix4d.com/">Pix4Dmapper</a> - The free “discovery”
version supports image merging.</li>
<li><a class="reference external" href="http://research.microsoft.com/en-us/um/redmond/projects/ice/">Microsoft Image Composite Editor (ICE)</a></li>
</ul>
</div>
</div>


            
            
             
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="common-rally-points.html" class="btn btn-neutral float-right" title="Rally Points" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="common-mavlink-mission-command-messages-mav_cmd.html" class="btn btn-neutral" title="Mission Commands" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>
  
  
  Questions, issues, and suggestions about this page can be raised on the <a href="https://discuss.ardupilot.org">forums</a>. Issues and suggestions may be posted on the forums or the <a href="https://github.com/ArduPilot/ardupilot_wiki/issues/new?title=Camera Control in Auto Missions&amp;body=[Camera Control in Auto Missions](https://ardupilot.org/planner/docs/common-camera-control-and-auto-missions-in-mission-planner.html)%20-%20Describe%20the%20issue/suggestion%20and%20improve%20the%20title.%20Please%20keep%20a%20link%20to%20the%20original%20article%20if%20relevant.&amp;labels=docs">Github Issue Tracker</a>.
  <hr/>

  <div role="contentinfo">
    <p>
    <a style="float:right;" rel="license" href="https://creativecommons.org/licenses/by-sa/3.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/3.0/88x31.png" /></a>
        &copy; Copyright 2020, ArduPilot Dev Team.

    </p>
  </div>
  


</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="../_static/language_data.js"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
    <script type="text/javascript" src="../_static/js/menubar.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   


<!-- Google Analytics -->
<!-- This is official ArduPilot analytics account -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  _gaq.push(['_trackPageLoadTime']);
  _gaq.push(["_setSiteSpeedSampleRate", 0]);
  ga('create', 'UA-75650032-1', 'auto');
  ga('send', 'pageview');

</script>
<!-- Google Analytics -->

</body>
</html>